# Recoup Environment Variables
# Copy this file to .env.local and fill in your values
# Never commit .env.local to version control!

# ============================================
# CLERK AUTHENTICATION
# ============================================
# Get these from: https://dashboard.clerk.com
# Create a new application and copy the keys

NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_your_key_here
CLERK_SECRET_KEY=sk_test_your_key_here
CLERK_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================
# FIREBASE (FIRESTORE & STORAGE)
# ============================================
# Get these from: https://console.firebase.google.com
# Go to Project Settings → Service Accounts → Generate new private key

NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour-Private-Key-Here\n-----END PRIVATE KEY-----\n"

# IMPORTANT: Keep the quotes around FIREBASE_PRIVATE_KEY and preserve the \n newlines

# ============================================
# STRIPE (PAYMENT PROCESSING)
# ============================================
# Get these from: https://dashboard.stripe.com/test/apikeys
# Use test keys for development, live keys for production

STRIPE_SECRET_KEY=sk_test_your_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_API_VERSION=2025-10-29

# To get webhook secret, run: stripe listen --forward-to localhost:3000/api/webhook/stripe

# ============================================
# OPENAI (VOICE TRANSCRIPTION & AI CALLS)
# ============================================
# Get this from: https://platform.openai.com/api-keys
# Billing must be set up for the API key to work

OPENAI_API_KEY=sk-your_openai_key_here

# ============================================
# SENDGRID (EMAIL DELIVERY)
# ============================================
# Get these from: https://app.sendgrid.com/settings/api_keys
# Free tier: 100 emails/day

SENDGRID_API_KEY=SG.your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME="Recoup"

# Note: You must verify the sender email in SendGrid dashboard before sending

# ============================================
# TWILIO (SMS & VOICE) - OPTIONAL
# ============================================
# Get these from: https://console.twilio.com
# Free trial: $15 credit, then pay-as-you-go
# Required for premium features (SMS reminders, AI calls)

TWILIO_ACCOUNT_SID=ACxxxxx
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_VERIFY_SID=VAxxxxx

# ============================================
# LOB (PHYSICAL MAIL) - OPTIONAL
# ============================================
# Get this from: https://dashboard.lob.com
# Required for premium feature: Letter Before Action
# Test mode available (doesn't actually send mail)

LOB_API_KEY=test_your_lob_key_here

# ============================================
# UPSTASH REDIS (RATE LIMITING)
# ============================================
# Get these from: https://console.upstash.com
# Free tier: 10,000 commands/day

UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_redis_token_here

# ============================================
# SENTRY (ERROR TRACKING) - OPTIONAL
# ============================================
# Get these from: https://sentry.io
# Free tier: 5,000 errors/month

NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
SENTRY_AUTH_TOKEN=your_sentry_auth_token
SENTRY_ORG=your-organization
SENTRY_PROJECT=recoup

# ============================================
# MIXPANEL (ANALYTICS) - OPTIONAL
# ============================================
# Get this from: https://mixpanel.com
# Free tier: 100,000 events/month

NEXT_PUBLIC_MIXPANEL_TOKEN=your_mixpanel_token_here

# ============================================
# ENCRYPTION & SECURITY
# ============================================
# Generate secure random keys for production

# AES-256 encryption key for bank details (must be 64 hex characters = 32 bytes)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Secret for authenticating cron job requests
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CRON_SECRET=your_cron_secret_here_replace_in_production

# ============================================
# APPLICATION SETTINGS
# ============================================

# Node environment (development, production, test)
NODE_ENV=development

# Logging level (debug, info, warn, error)
LOG_LEVEL=debug

# Public app URL (used for callbacks and links)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Voice AI server URL (Render.com deployment)
VOICE_SERVER_URL=http://localhost:4000

# ============================================
# OPTIONAL: FIRESTORE EMULATOR
# ============================================
# Uncomment to use Firestore emulator instead of production Firebase
# Run: firebase emulators:start

# FIRESTORE_EMULATOR_HOST=localhost:8080

# ============================================
# DEVELOPMENT TOOLS
# ============================================

# Enable Next.js analytics
# NEXT_PUBLIC_VERCEL_ANALYTICS_ID=your_analytics_id

# Enable debugging
# DEBUG=true

# ============================================
# NOTES
# ============================================

# Required for basic functionality:
# - Clerk (authentication)
# - Firebase (database)
# - Stripe (payments)
# - OpenAI (voice transcription)
# - SendGrid (email)
# - Upstash (rate limiting)

# Required for premium features:
# - Twilio (SMS & voice calls)
# - Lob (physical mail)

# Optional but recommended:
# - Sentry (error tracking)
# - Mixpanel (analytics)

# Security reminders:
# - Never commit .env.local to git
# - Rotate secrets regularly (quarterly)
# - Use different keys for development and production
# - Store production secrets securely (1Password, Vercel, etc.)
