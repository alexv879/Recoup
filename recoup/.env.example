# Recoup Environment Variables
# Copy this file to .env.local and fill in your values

# ==================== CORE SERVICES ====================

# Next.js
NEXT_PUBLIC_APP_URL=https://your-app.vercel.app
NODE_ENV=production

# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_...
CLERK_SECRET_KEY=sk_test_...
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/onboarding

# Firebase (Firestore + Storage)
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSy...
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-app.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-app
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-app.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789:web:abc123

# Firebase Admin SDK (Server-side)
FIREBASE_PROJECT_ID=your-app
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxx@your-app.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY\n-----END PRIVATE KEY-----\n"

# ==================== AI SERVICES ====================

# Google Gemini (OCR - Invoice/Receipt Extraction)
# Get from: https://aistudio.google.com/app/apikey
# CRITICAL: Use for OCR only (90-96% accuracy)
GEMINI_API_KEY=AIzaSyC...

# OpenAI (Expense Categorization + Voice Calling)
# Get from: https://platform.openai.com/api-keys
# Used for: GPT-4o-mini (categorization), GPT-4o-realtime (voice)
OPENAI_API_KEY=sk-proj-...

# Anthropic Claude (IR35 Assessment - Pro tier only)
# Get from: https://console.anthropic.com/settings/keys
# Used for: Claude Sonnet 4 (complex legal reasoning)
ANTHROPIC_API_KEY=sk-ant-api03-...

# ==================== TELEPHONY (VOICE CALLING - PRO TIER) ====================

# Twilio (Voice Calling)
# Get from: https://console.twilio.com
TWILIO_ACCOUNT_SID=AC...
TWILIO_AUTH_TOKEN=...
TWILIO_PHONE_NUMBER=+44...

# ==================== PAYMENTS ====================

# Stripe (Subscriptions + Payments)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Stripe Price IDs
STRIPE_PRICE_STARTER_MONTHLY=price_...
STRIPE_PRICE_STARTER_ANNUAL=price_...
STRIPE_PRICE_PRO_MONTHLY=price_...
STRIPE_PRICE_PRO_ANNUAL=price_...

# ==================== COMMUNICATIONS ====================

# SendGrid (Email)
SENDGRID_API_KEY=SG....
SENDGRID_FROM_EMAIL=noreply@recoup.app
SENDGRID_FROM_NAME=Recoup

# ==================== ANALYTICS & MONITORING ====================

# Mixpanel (Product Analytics)
NEXT_PUBLIC_MIXPANEL_TOKEN=...

# Sentry (Error Tracking)
NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...
SENTRY_AUTH_TOKEN=...
SENTRY_ORG=your-org
SENTRY_PROJECT=recoup

# OpenTelemetry (Tracing)
OTEL_EXPORTER_OTLP_ENDPOINT=https://api.honeycomb.io

# ==================== RATE LIMITING ====================

# Upstash Redis (Rate Limiting)
UPSTASH_REDIS_REST_URL=https://...upstash.io
UPSTASH_REDIS_REST_TOKEN=...

# ==================== OPTIONAL SERVICES ====================

# Deepgram (Voice Transcription - Alternative to Whisper)
# Only needed if using Deepgram instead of Whisper for voice input
NEXT_PUBLIC_DEEPGRAM_API_KEY=...

# Lob (Physical Mail - For escalation)
LOB_API_KEY=test_...

# ==================== TIER CONFIGURATION ====================

# Free Tier Limits
FREE_TIER_INVOICE_LIMIT=5
FREE_TIER_AI_CALLS_PER_MONTH=100

# Starter Tier Limits
STARTER_TIER_INVOICE_LIMIT=50
STARTER_TIER_AI_CALLS_PER_MONTH=1000

# Pro Tier Limits
PRO_TIER_INVOICE_LIMIT=999999
PRO_TIER_AI_CALLS_PER_MONTH=10000
PRO_TIER_VOICE_CALLS_PER_MONTH=100

# ==================== COST THRESHOLDS ====================

# Alert when monthly AI cost exceeds this amount (in GBP)
AI_COST_ALERT_THRESHOLD=50

# Alert when user's monthly AI cost exceeds this amount (in GBP)
USER_AI_COST_ALERT_THRESHOLD=10

# ==================== FEATURE FLAGS ====================

# Enable/disable features
ENABLE_AI_OCR=true
ENABLE_AI_CATEGORIZATION=true
ENABLE_IR35_ASSESSMENT=true
ENABLE_VOICE_CALLING=true
ENABLE_COLLECTIONS=true

# ==================== NOTES ====================

# AI Model Costs (Nov 2025):
# - Gemini 1.5 Flash: £0.000075/call (OCR)
# - GPT-4o-mini: £0.00015/call (categorization)
# - Claude Sonnet 4: £0.003/call (IR35)
# - OpenAI Realtime: £1.50/5min call (voice)
#
# Typical Monthly AI Costs:
# - Free tier: ~£0.01-0.05
# - Starter tier: ~£0.30-0.50
# - Pro tier: ~£10-15 (including voice calls)
#
# Voice Calling (Pro tier only):
# - Twilio: £0.013/min (UK calls)
# - OpenAI Realtime: £0.30/min
# - Total: ~£1.57 per 5-minute call
# - Research shows 40% better payment recovery vs manual calls
