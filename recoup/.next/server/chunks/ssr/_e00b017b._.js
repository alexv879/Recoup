module.exports=[298621,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.s(["clsx",()=>b])},720505,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,variant:d="default",size:e="default",asChild:f=!1,...g}){return(0,b.jsx)("button",{className:(0,c.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"}[d],{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}[e],a),...g})}a.s(["Button",()=>d])},408458,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,children:d,...e}){return(0,b.jsx)("div",{className:(0,c.cn)("rounded-lg border bg-white shadow-sm",a),...e,children:d})}a.s(["Card",()=>d])},179813,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,variant:d="default",...e}){return(0,b.jsx)("div",{className:(0,c.cn)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}[d],a),...e})}a.s(["Badge",()=>d])},122485,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(238246),f=a.i(408458),g=a.i(179813),h=a.i(720505);function i(){let a=(0,d.useRouter)(),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)("all"),[o,p]=(0,c.useState)("");(0,c.useEffect)(()=>{q()},[m]);let q=async()=>{l(!0);try{let a=new URLSearchParams;"all"!==m&&a.append("status",m);let b=await fetch(`/api/invoices?${a.toString()}`);if(b.ok){let a=await b.json();j(a.invoices||[])}}catch(a){console.error("Failed to fetch invoices:",a)}finally{l(!1)}},r=i.filter(a=>a.reference.toLowerCase().includes(o.toLowerCase())||a.clientName.toLowerCase().includes(o.toLowerCase())||a.clientEmail.toLowerCase().includes(o.toLowerCase())),s=a=>new Date(1e3*a._seconds).toLocaleDateString("en-GB");return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)("div",{className:"bg-white border-b",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage all your invoices"})]}),(0,b.jsx)(e.default,{href:"/dashboard/invoices/new",children:(0,b.jsx)(h.Button,{children:"+ Create Invoice"})})]})})}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsx)(f.Card,{className:"p-6 mb-6",children:(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)(h.Button,{variant:"all"===m?"default":"outline",size:"sm",onClick:()=>n("all"),children:"All"}),(0,b.jsx)(h.Button,{variant:"draft"===m?"default":"outline",size:"sm",onClick:()=>n("draft"),children:"Draft"}),(0,b.jsx)(h.Button,{variant:"sent"===m?"default":"outline",size:"sm",onClick:()=>n("sent"),children:"Sent"}),(0,b.jsx)(h.Button,{variant:"paid"===m?"default":"outline",size:"sm",onClick:()=>n("paid"),children:"Paid"}),(0,b.jsx)(h.Button,{variant:"overdue"===m?"default":"outline",size:"sm",onClick:()=>n("overdue"),children:"Overdue"})]}),(0,b.jsx)("input",{type:"text",placeholder:"Search invoices...",className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:a=>p(a.target.value)})]})}),k?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-gray-500",children:"Loading invoices..."})}):0===r.length?(0,b.jsxs)(f.Card,{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"text-6xl mb-4",children:"ðŸ“„"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No invoices found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:o?"Try a different search term":"Create your first invoice to get started"}),!o&&(0,b.jsx)(e.default,{href:"/dashboard/invoices/new",children:(0,b.jsx)(h.Button,{children:"Create First Invoice"})})]}):(0,b.jsx)("div",{className:"space-y-4",children:r.map(c=>{var d;return(0,b.jsx)(f.Card,{className:"p-6 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>a.push(`/dashboard/invoices/${c.invoiceId}`),children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c.reference}),(d=c.status,(0,b.jsx)(g.Badge,{variant:{paid:"success",sent:"default",overdue:"destructive",draft:"secondary",cancelled:"secondary"}[d]||"default",children:d})),c.collectionsEnabled&&(0,b.jsxs)(g.Badge,{variant:"default",children:["ðŸ¤– Collections (",c.collectionsAttempts,")"]})]}),(0,b.jsxs)("div",{className:"flex gap-6 text-sm text-gray-600",children:[(0,b.jsxs)("span",{children:["Client: ",c.clientName]}),(0,b.jsxs)("span",{children:["Due: ",s(c.dueDate)]}),(0,b.jsxs)("span",{children:["Issued: ",s(c.invoiceDate)]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["Â£",c.amount.toLocaleString()]}),(0,b.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,b.jsx)(h.Button,{variant:"outline",size:"sm",onClick:b=>{b.stopPropagation(),a.push(`/dashboard/invoices/${c.invoiceId}`)},children:"View"}),"draft"===c.status&&(0,b.jsx)(h.Button,{variant:"default",size:"sm",onClick:a=>{a.stopPropagation()},children:"Send"})]})]})]})},c.invoiceId)})})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=_e00b017b._.js.map