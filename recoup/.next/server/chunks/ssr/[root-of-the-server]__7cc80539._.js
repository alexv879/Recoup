module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(233290))},43619,a=>{a.n(a.i(379962))},13718,a=>{a.n(a.i(685523))},118198,a=>{a.n(a.i(545518))},262212,a=>{a.n(a.i(866114))},851933,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call DashboardClient() from the server but DashboardClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/dashboard/DashboardClient.tsx <module evaluation>","DashboardClient");a.s(["DashboardClient",0,b])},789289,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call DashboardClient() from the server but DashboardClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/dashboard/DashboardClient.tsx","DashboardClient");a.s(["DashboardClient",0,b])},612889,a=>{"use strict";a.i(851933);var b=a.i(789289);a.n(b)},924734,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call EmptyState() from the server but EmptyState is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/Dashboard/EmptyState.tsx <module evaluation>","EmptyState");a.s(["EmptyState",0,b])},699212,a=>{"use strict";let b=(0,a.i(211857).registerClientReference)(function(){throw Error("Attempted to call EmptyState() from the server but EmptyState is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/Dashboard/EmptyState.tsx","EmptyState");a.s(["EmptyState",0,b])},453111,a=>{"use strict";a.i(924734);var b=a.i(699212);a.n(b)},475403,a=>{"use strict";var b=a.i(907997),c=a.i(105072);a.i(570396);var d=a.i(673727),e=a.i(395936),f=a.i(636655),g=a.i(681525),h=a.i(491526),i=a.i(612889),j=a.i(453111);async function k(){let{userId:a}=await (0,c.auth)();a||(0,d.redirect)("/sign-in");let k=await fetch(`${process.env.NEXT_PUBLIC_APP_URL||"http://localhost:3000"}/api/dashboard/summary`,{headers:{"Content-Type":"application/json","x-user-id":a},cache:"no-store"}),l=k.ok?await k.json():null;return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(i.DashboardClient,{userId:a,summary:l}),(0,b.jsx)("div",{className:"bg-white border-b",children:(0,b.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-gray-600 mt-1",children:"Welcome back! Here's your business overview"})]}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)(e.default,{href:"/dashboard/invoices/new",children:(0,b.jsx)(h.Button,{children:"+ Create Invoice"})})})]})})}),(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,b.jsx)(f.Card,{className:"p-6 border-l-4 border-blue-500 hover:shadow-lg transition-shadow duration-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2",children:"Total Owed"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:["Â£",l?.financial?.totalInvoiced?.toLocaleString()||"0"]}),(0,b.jsx)("div",{className:"mt-2 flex items-center gap-2",children:(0,b.jsxs)("p",{className:"text-xs text-green-600 font-medium",children:["â†‘ ",l?.financial?.monthlyGrowth||"0","% from last month"]})}),l?.invoices?.overdue>0&&(0,b.jsx)(e.default,{href:"/dashboard/invoices?status=overdue",className:"text-xs text-blue-600 hover:underline mt-1 inline-block",children:"View overdue â†’"})]}),(0,b.jsx)("div",{className:"text-4xl",children:"ðŸ’°"})]})}),(0,b.jsx)(f.Card,{className:"p-6 border-l-4 border-orange-500 bg-orange-50/50 hover:shadow-lg transition-shadow duration-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2",children:"Overdue"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-orange-600",children:["Â£",l?.financial?.totalOutstanding?.toLocaleString()||"0"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[(0,b.jsx)("strong",{children:l?.invoices?.overdue||0})," invoices past due"]}),l?.invoices?.overdue>0&&(0,b.jsx)("button",{className:"mt-2 text-xs bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600 transition-colors",children:"Send Reminders"})]}),(0,b.jsx)("div",{className:"text-4xl",children:"âš "})]})}),(0,b.jsx)(f.Card,{className:"p-6 border-l-4 border-green-500 hover:shadow-lg transition-shadow duration-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2",children:"Collected"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:["Â£",l?.financial?.totalCollected?.toLocaleString()||"0"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[l?.invoices?.paid||0," paid invoices"]})]}),(0,b.jsx)("div",{className:"text-4xl",children:"âœ…"})]})}),(0,b.jsx)(f.Card,{className:"p-6 border-l-4 border-purple-500 hover:shadow-lg transition-shadow duration-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wider mb-2",children:"XP Level"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:l?.gamification?.level||1}),(0,b.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[l?.gamification?.xp||0," XP"]})]}),(0,b.jsx)("div",{className:"text-4xl",children:"â­"})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,b.jsxs)(f.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Invoices"}),(0,b.jsx)(e.default,{href:"/dashboard/invoices",children:(0,b.jsx)(h.Button,{variant:"outline",size:"sm",children:"View All"})})]}),(0,b.jsx)("div",{className:"space-y-4",children:l?.recentActivity?.recentInvoices?.length?l.recentActivity.recentInvoices.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900",children:a.reference}),(0,b.jsx)(g.Badge,{variant:"paid"===a.status?"default":"overdue"===a.status?"destructive":"sent"===a.status?"default":"secondary",className:"paid"===a.status?"bg-green-100 text-green-800 border-green-200":"",children:a.status})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.clientName," â€¢ Due: ",new Date(1e3*a.dueDate._seconds).toLocaleDateString("en-GB")]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900",children:["Â£",a.amount.toLocaleString()]}),(0,b.jsx)(e.default,{href:`/dashboard/invoices/${a.invoiceId}`,children:(0,b.jsx)(h.Button,{variant:"ghost",size:"sm",children:"View"})})]})]},a.invoiceId)):(0,b.jsx)(j.EmptyState,{icon:"ðŸ“„",headline:"No invoices yet",description:"Start sending invoices to your clients and track payments easily. It only takes a few minutes to create your first invoice.",primaryCTA:{label:"Create First Invoice",href:"/dashboard/invoices/new"},secondaryCTAs:[{label:"Learn more",href:"/help/invoices"},{label:"Watch demo",href:"/demo"}]})})]}),(0,b.jsxs)(f.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Payments"}),(0,b.jsx)(e.default,{href:"/dashboard/payments",children:(0,b.jsx)(h.Button,{variant:"outline",size:"sm",children:"View All"})})]}),(0,b.jsx)("div",{className:"space-y-4",children:l?.recentActivity?.recentPayments?.length?l.recentActivity.recentPayments.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-900",children:a.invoiceReference}),(0,b.jsx)(g.Badge,{variant:"default",className:"bg-green-100 text-green-800 border-green-200",children:"Paid"})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[new Date(1e3*a.createdAt._seconds).toLocaleDateString("en-GB")," â€¢ ",a.paymentMethod]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-semibold text-green-600",children:["+Â£",a.freelancerNet.toLocaleString()]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Â£",a.relayCommission.toFixed(2)," fee"]})]})]},a.transactionId)):(0,b.jsx)(j.EmptyState,{icon:"ðŸ’³",headline:"No payments received yet",description:"When your clients pay their invoices, you'll see all payment activity here. Payments are processed securely and arrive in your account within 2-3 business days.",primaryCTA:{label:"Send Your First Invoice",href:"/dashboard/invoices/new"},secondaryCTAs:[{label:"Payment FAQ",href:"/help/payments"}]})})]}),l?.collections?.collectionsEnabled>0&&(0,b.jsxs)(f.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Collections"}),(0,b.jsxs)(g.Badge,{variant:"default",children:[l.collections.collectionsEnabled," active"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Success Rate"}),(0,b.jsxs)("span",{className:"font-semibold",children:[l.collections.collectionsEnabled>0?Math.round(l.collections.successfulCollections/l.collections.collectionsEnabled*100):0,"%"]})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Revenue Recovered"}),(0,b.jsxs)("span",{className:"font-semibold text-green-600",children:["Â£",l.collections.collectionsRevenue.toLocaleString()]})]}),l.recentActivity?.recentCollections?.length>0&&(0,b.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Attempts"}),l.recentActivity.recentCollections.map(a=>(0,b.jsxs)("div",{className:"text-sm text-gray-600 py-1",children:[a.invoiceReference," â€¢ ",a.attemptType]},a.attemptId))]})]})]}),(0,b.jsxs)(f.Card,{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Progress"}),(0,b.jsx)(e.default,{href:"/dashboard/gamification",children:(0,b.jsx)(h.Button,{variant:"outline",size:"sm",children:"View All"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:["Level ",l?.gamification?.level||1]}),(0,b.jsxs)("span",{className:"text-sm text-gray-600",children:[l?.gamification?.xp||0," / ",l?.gamification?.nextLevelXP||100," XP"]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${(l?.gamification?.xp||0)/(l?.gamification?.nextLevelXP||100)*100}%`}})})]}),l?.gamification?.badges?.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Latest Badges"}),(0,b.jsx)("div",{className:"flex gap-2 flex-wrap",children:l.gamification.badges.slice(0,5).map(a=>(0,b.jsx)("div",{className:"text-2xl",title:a.badgeName,children:a.badgeIcon||"ðŸ†"},a.badgeId))})]}),l?.gamification?.streak>0&&(0,b.jsx)("div",{className:"pt-4 border-t",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ”¥"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-semibold text-gray-900",children:[l.gamification.streak," Day Streak"]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Keep it going!"})]})]})})]})]})]}),(0,b.jsxs)(f.Card,{className:"p-6 mt-8",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsx)(e.default,{href:"/dashboard/invoices/new",children:(0,b.jsx)(h.Button,{variant:"outline",className:"w-full",children:"ðŸ“„ New Invoice"})}),(0,b.jsx)(e.default,{href:"/dashboard/invoices",children:(0,b.jsx)(h.Button,{variant:"outline",className:"w-full",children:"ðŸ“‹ View Invoices"})}),(0,b.jsx)(e.default,{href:"/dashboard/analytics",children:(0,b.jsx)(h.Button,{variant:"outline",className:"w-full",children:"ðŸ“Š Analytics"})}),(0,b.jsx)(e.default,{href:"/dashboard/settings",children:(0,b.jsx)(h.Button,{variant:"outline",className:"w-full",children:"âš™ï¸ Settings"})})]})]})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7cc80539._.js.map