module.exports=[747861,(e,t,r)=>{var s,i="__lodash_hash_undefined__",n=1/0,o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,T=/^\./,_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,E=/^\[object .+?Constructor\]$/,u=e.g&&e.g.Object===Object&&e.g,A="object"==typeof self&&self&&self.Object===Object&&self,L=u||A||Function("return this")(),c=Array.prototype,d=Function.prototype,f=Object.prototype,l=L["__core-js_shared__"],R=(s=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",p=d.toString,I=f.hasOwnProperty,N=f.toString,S=RegExp("^"+p.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=L.Symbol,b=c.splice,C=k(L,"Map"),y=k(Object,"create"),g=O?O.prototype:void 0,M=g?g.toString:void 0;function m(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function v(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function P(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}function U(e,t){for(var r,s,i=e.length;i--;){if(r=e[i][0],r===(s=t)||r!=r&&s!=s)return i}return -1}function D(e,t){var r,s,i=e.__data__;return("string"==(s=typeof(r=t))||"number"==s||"symbol"==s||"boolean"==s?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function k(e,t){var r,s,i,n=null==e?void 0:e[t];return!(!w(n)||(r=n,R&&R in r))&&("[object Function]"==(i=w(s=n)?N.call(s):"")||"[object GeneratorFunction]"==i||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(n)?S:E).test(function(e){if(null!=e){try{return p.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(n))?n:void 0}m.prototype.clear=function(){this.__data__=y?y(null):{}},m.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},m.prototype.get=function(e){var t=this.__data__;if(y){var r=t[e];return r===i?void 0:r}return I.call(t,e)?t[e]:void 0},m.prototype.has=function(e){var t=this.__data__;return y?void 0!==t[e]:I.call(t,e)},m.prototype.set=function(e,t){return this.__data__[e]=y&&void 0===t?i:t,this},v.prototype.clear=function(){this.__data__=[]},v.prototype.delete=function(e){var t=this.__data__,r=U(t,e);return!(r<0)&&(r==t.length-1?t.pop():b.call(t,r,1),!0)},v.prototype.get=function(e){var t=this.__data__,r=U(t,e);return r<0?void 0:t[r][1]},v.prototype.has=function(e){return U(this.__data__,e)>-1},v.prototype.set=function(e,t){var r=this.__data__,s=U(r,e);return s<0?r.push([e,t]):r[s][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new m,map:new(C||v),string:new m}},P.prototype.delete=function(e){return D(this,e).delete(e)},P.prototype.get=function(e){return D(this,e).get(e)},P.prototype.has=function(e){return D(this,e).has(e)},P.prototype.set=function(e,t){return D(this,e).set(e,t),this};var F=G(function(e){e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(x(e))return M?M.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}(t);var t,r=[];return T.test(e)&&r.push(""),e.replace(_,function(e,t,s,i){r.push(s?i.replace(h,"$1"):t||e)}),r});function G(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var s=arguments,i=t?t.apply(this,s):s[0],n=r.cache;if(n.has(i))return n.get(i);var o=e.apply(this,s);return r.cache=n.set(i,o),o};return r.cache=new(G.Cache||P),r}G.Cache=P;var B=Array.isArray;function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function x(e){return"symbol"==typeof e||!!e&&"object"==typeof e&&"[object Symbol]"==N.call(e)}t.exports=function(e,t,r){var s=null==e?void 0:function(e,t){var r;t=!function(e,t){if(B(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||x(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?B(r=t)?r:F(r):[t];for(var s=0,i=t.length;null!=e&&s<i;)e=e[function(e){if("string"==typeof e||x(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}(t[s++])];return s&&s==i?e:void 0}(e,t);return void 0===s?r:s}},753784,(e,t,r)=>{"use strict";t.exports={getProp:function(e,t,r){return void 0===e[t]?r:e[t]},setProp:function e(t,r,s){let i=Array.isArray(r)?r:r.split("."),[n,...o]=i;return{...t,[n]:i.length>1?e(t[n]||{},o,s):s}},unsetProp:function e(t,r){let s=Array.isArray(r)?r:r.split("."),[i,...n]=s;return"object"!=typeof t[i]?t:1===s.length?Object.keys(t).filter(e=>e!==i).reduce((e,r)=>({...e,[r]:t[r]}),{}):Object.keys(t).reduce((r,s)=>({...r,[s]:s!==i?t[s]:e(t[i],n)}),{})},fakeInherit:function(e,t){let r=t.prototype;do Object.getOwnPropertyNames(r).filter(e=>!["constructor","__proto__","__defineGetter__","__defineSetter__","__lookupGetter__","__lookupSetter__","isPrototypeOf","hasOwnProperty","propertyIsEnumerable","valueOf","toString","toLocaleString"].includes(e)).forEach(t=>{e[t]||Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}),r=Object.getPrototypeOf(r);while(null!=r)}}},723141,(e,t,r)=>{t.exports=function(e){return null==e?"":`${e}`}},328463,(e,t,r)=>{function s(e,t){return e.replace(".",t)}t.exports=function(e={}){return e.separator?e.decimals?t=>{var r;return s((r=e.decimals,t.toFixed(r)),e.separator)}:t=>s(t.toString(),e.separator):e.decimals?t=>{var r;return r=e.decimals,t.toFixed(r)}:e=>e.toString()}},556509,(e,t,r)=>{t.exports=function(e={}){let t="string"==typeof e.quote?e.quote:'"',r="string"==typeof e.escapedQuote?e.escapedQuote:`${t}${t}`;return t?e=>(e.includes(t)&&(e=e.replace(RegExp(t,"g"),r)),`${t}${e}${t}`):e=>e}},253217,(e,t,r)=>{let s=e.r(556509);t.exports=function(e={stringFormatter:s()}){return t=>e.stringFormatter(t.toString().slice(7,-1))}},71644,(e,t,r)=>{let s=e.r(556509);t.exports=function(e={stringFormatter:s()}){return t=>null===t||void 0===(t=JSON.stringify(t))?"":('"'===t[0]&&(t=t.replace(/^"(.+)"$/,"$1")),e.stringFormatter(t))}},668711,(e,t,r)=>{"use strict";let s=e.r(446786),i=e.r(747861),{getProp:n}=e.r(753784),o=e.r(723141),a=e.r(328463),T=e.r(556509),_=e.r(253217),h=e.r(71644);t.exports=class{constructor(e){this.opts=this.preprocessOpts(e)}preprocessOpts(e){let t=Object.assign({},e);t.fields&&(t.fields=this.preprocessFieldsInfo(t.fields,t.defaultValue)),t.transforms=t.transforms||[];let r=t.formatters&&t.formatters.string||T(),i=h({stringFormatter:r});return t.formatters={...{header:r,undefined:o,boolean:o,number:a(),bigint:o,string:r,symbol:_({stringFormatter:r}),function:i,object:i},...t.formatters},t.delimiter=t.delimiter||",",t.eol=t.eol||s.EOL,t.header=!1!==t.header,t.includeEmptyRows=t.includeEmptyRows||!1,t.withBOM=t.withBOM||!1,t}preprocessFieldsInfo(e,t){return e.map(e=>{if("string"==typeof e)return{label:e,value:e.includes(".")||e.includes("[")?r=>i(r,e,t):r=>n(r,e,t)};if("object"==typeof e){let r="default"in e?e.default:t;if("string"==typeof e.value)return{label:e.label||e.value,value:e.value.includes(".")||e.value.includes("[")?t=>i(t,e.value,r):t=>n(t,e.value,r)};if("function"==typeof e.value){let t=e.label||e.value.name||"",s={label:t,default:r};return{label:t,value(t){let i=e.value(t,s);return null==i?r:i}}}}throw Error("Invalid field info option. "+JSON.stringify(e))})}getHeader(e){return e.map(e=>this.opts.formatters.header(e.label)).join(this.opts.delimiter)}preprocessRow(e){return this.opts.transforms.reduce((e,t)=>e.flatMap(e=>t(e)),[e])}processRow(e,t){if(!e)return;let r=t.map(t=>this.processCell(e,t));if(!(!this.opts.includeEmptyRows&&r.every(e=>""===e)))return r.join(this.opts.delimiter)}processCell(e,t){return this.processValue(t.value(e))}processValue(e){return this.opts.formatters[typeof e](e)}}},555501,(e,t,r)=>{"use strict";let s=e.r(668711);t.exports=class extends s{constructor(e){super(e)}parse(e){let t=this.preprocessData(e,this.opts.fields),r=this.opts.fields||this.preprocessFieldsInfo(t.reduce((e,t)=>(Object.keys(t).forEach(t=>{e.includes(t)||e.push(t)}),e),[])),s=this.opts.header?this.getHeader(r):"",i=this.processData(t,r);return(this.opts.withBOM?"\uFEFF":"")+s+(s&&i?this.opts.eol:"")+i}preprocessData(e,t){let r=Array.isArray(e)?e:[e];if(!t&&(0===r.length||"object"!=typeof r[0]))throw Error('Data should not be empty or the "fields" option should be included');return 0===this.opts.transforms.length?r:r.flatMap(e=>this.preprocessRow(e))}processData(e,t){return e.map(e=>this.processRow(e,t)).filter(e=>e).join(this.opts.eol)}}},655909,(e,t,r)=>{"use strict";var s,i;Object.defineProperty(r,"__esModule",{value:!0}),r.escapedSequences=r.charset=void 0,(i=s=r.charset||(r.charset={}))[i.BACKSPACE=8]="BACKSPACE",i[i.FORM_FEED=12]="FORM_FEED",i[i.NEWLINE=10]="NEWLINE",i[i.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",i[i.TAB=9]="TAB",i[i.SPACE=32]="SPACE",i[i.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",i[i.QUOTATION_MARK=34]="QUOTATION_MARK",i[i.NUMBER_SIGN=35]="NUMBER_SIGN",i[i.DOLLAR_SIGN=36]="DOLLAR_SIGN",i[i.PERCENT_SIGN=37]="PERCENT_SIGN",i[i.AMPERSAND=38]="AMPERSAND",i[i.APOSTROPHE=39]="APOSTROPHE",i[i.LEFT_PARENTHESIS=40]="LEFT_PARENTHESIS",i[i.RIGHT_PARENTHESIS=41]="RIGHT_PARENTHESIS",i[i.ASTERISK=42]="ASTERISK",i[i.PLUS_SIGN=43]="PLUS_SIGN",i[i.COMMA=44]="COMMA",i[i.HYPHEN_MINUS=45]="HYPHEN_MINUS",i[i.FULL_STOP=46]="FULL_STOP",i[i.SOLIDUS=47]="SOLIDUS",i[i.DIGIT_ZERO=48]="DIGIT_ZERO",i[i.DIGIT_ONE=49]="DIGIT_ONE",i[i.DIGIT_TWO=50]="DIGIT_TWO",i[i.DIGIT_THREE=51]="DIGIT_THREE",i[i.DIGIT_FOUR=52]="DIGIT_FOUR",i[i.DIGIT_FIVE=53]="DIGIT_FIVE",i[i.DIGIT_SIX=54]="DIGIT_SIX",i[i.DIGIT_SEVEN=55]="DIGIT_SEVEN",i[i.DIGIT_EIGHT=56]="DIGIT_EIGHT",i[i.DIGIT_NINE=57]="DIGIT_NINE",i[i.COLON=58]="COLON",i[i.SEMICOLON=59]="SEMICOLON",i[i.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",i[i.EQUALS_SIGN=61]="EQUALS_SIGN",i[i.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",i[i.QUESTION_MARK=63]="QUESTION_MARK",i[i.COMMERCIAL_AT=64]="COMMERCIAL_AT",i[i.LATIN_CAPITAL_LETTER_A=65]="LATIN_CAPITAL_LETTER_A",i[i.LATIN_CAPITAL_LETTER_B=66]="LATIN_CAPITAL_LETTER_B",i[i.LATIN_CAPITAL_LETTER_C=67]="LATIN_CAPITAL_LETTER_C",i[i.LATIN_CAPITAL_LETTER_D=68]="LATIN_CAPITAL_LETTER_D",i[i.LATIN_CAPITAL_LETTER_E=69]="LATIN_CAPITAL_LETTER_E",i[i.LATIN_CAPITAL_LETTER_F=70]="LATIN_CAPITAL_LETTER_F",i[i.LATIN_CAPITAL_LETTER_G=71]="LATIN_CAPITAL_LETTER_G",i[i.LATIN_CAPITAL_LETTER_H=72]="LATIN_CAPITAL_LETTER_H",i[i.LATIN_CAPITAL_LETTER_I=73]="LATIN_CAPITAL_LETTER_I",i[i.LATIN_CAPITAL_LETTER_J=74]="LATIN_CAPITAL_LETTER_J",i[i.LATIN_CAPITAL_LETTER_K=75]="LATIN_CAPITAL_LETTER_K",i[i.LATIN_CAPITAL_LETTER_L=76]="LATIN_CAPITAL_LETTER_L",i[i.LATIN_CAPITAL_LETTER_M=77]="LATIN_CAPITAL_LETTER_M",i[i.LATIN_CAPITAL_LETTER_N=78]="LATIN_CAPITAL_LETTER_N",i[i.LATIN_CAPITAL_LETTER_O=79]="LATIN_CAPITAL_LETTER_O",i[i.LATIN_CAPITAL_LETTER_P=80]="LATIN_CAPITAL_LETTER_P",i[i.LATIN_CAPITAL_LETTER_Q=81]="LATIN_CAPITAL_LETTER_Q",i[i.LATIN_CAPITAL_LETTER_R=82]="LATIN_CAPITAL_LETTER_R",i[i.LATIN_CAPITAL_LETTER_S=83]="LATIN_CAPITAL_LETTER_S",i[i.LATIN_CAPITAL_LETTER_T=84]="LATIN_CAPITAL_LETTER_T",i[i.LATIN_CAPITAL_LETTER_U=85]="LATIN_CAPITAL_LETTER_U",i[i.LATIN_CAPITAL_LETTER_V=86]="LATIN_CAPITAL_LETTER_V",i[i.LATIN_CAPITAL_LETTER_W=87]="LATIN_CAPITAL_LETTER_W",i[i.LATIN_CAPITAL_LETTER_X=88]="LATIN_CAPITAL_LETTER_X",i[i.LATIN_CAPITAL_LETTER_Y=89]="LATIN_CAPITAL_LETTER_Y",i[i.LATIN_CAPITAL_LETTER_Z=90]="LATIN_CAPITAL_LETTER_Z",i[i.LEFT_SQUARE_BRACKET=91]="LEFT_SQUARE_BRACKET",i[i.REVERSE_SOLIDUS=92]="REVERSE_SOLIDUS",i[i.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",i[i.CIRCUMFLEX_ACCENT=94]="CIRCUMFLEX_ACCENT",i[i.LOW_LINE=95]="LOW_LINE",i[i.GRAVE_ACCENT=96]="GRAVE_ACCENT",i[i.LATIN_SMALL_LETTER_A=97]="LATIN_SMALL_LETTER_A",i[i.LATIN_SMALL_LETTER_B=98]="LATIN_SMALL_LETTER_B",i[i.LATIN_SMALL_LETTER_C=99]="LATIN_SMALL_LETTER_C",i[i.LATIN_SMALL_LETTER_D=100]="LATIN_SMALL_LETTER_D",i[i.LATIN_SMALL_LETTER_E=101]="LATIN_SMALL_LETTER_E",i[i.LATIN_SMALL_LETTER_F=102]="LATIN_SMALL_LETTER_F",i[i.LATIN_SMALL_LETTER_G=103]="LATIN_SMALL_LETTER_G",i[i.LATIN_SMALL_LETTER_H=104]="LATIN_SMALL_LETTER_H",i[i.LATIN_SMALL_LETTER_I=105]="LATIN_SMALL_LETTER_I",i[i.LATIN_SMALL_LETTER_J=106]="LATIN_SMALL_LETTER_J",i[i.LATIN_SMALL_LETTER_K=107]="LATIN_SMALL_LETTER_K",i[i.LATIN_SMALL_LETTER_L=108]="LATIN_SMALL_LETTER_L",i[i.LATIN_SMALL_LETTER_M=109]="LATIN_SMALL_LETTER_M",i[i.LATIN_SMALL_LETTER_N=110]="LATIN_SMALL_LETTER_N",i[i.LATIN_SMALL_LETTER_O=111]="LATIN_SMALL_LETTER_O",i[i.LATIN_SMALL_LETTER_P=112]="LATIN_SMALL_LETTER_P",i[i.LATIN_SMALL_LETTER_Q=113]="LATIN_SMALL_LETTER_Q",i[i.LATIN_SMALL_LETTER_R=114]="LATIN_SMALL_LETTER_R",i[i.LATIN_SMALL_LETTER_S=115]="LATIN_SMALL_LETTER_S",i[i.LATIN_SMALL_LETTER_T=116]="LATIN_SMALL_LETTER_T",i[i.LATIN_SMALL_LETTER_U=117]="LATIN_SMALL_LETTER_U",i[i.LATIN_SMALL_LETTER_V=118]="LATIN_SMALL_LETTER_V",i[i.LATIN_SMALL_LETTER_W=119]="LATIN_SMALL_LETTER_W",i[i.LATIN_SMALL_LETTER_X=120]="LATIN_SMALL_LETTER_X",i[i.LATIN_SMALL_LETTER_Y=121]="LATIN_SMALL_LETTER_Y",i[i.LATIN_SMALL_LETTER_Z=122]="LATIN_SMALL_LETTER_Z",i[i.LEFT_CURLY_BRACKET=123]="LEFT_CURLY_BRACKET",i[i.VERTICAL_LINE=124]="VERTICAL_LINE",i[i.RIGHT_CURLY_BRACKET=125]="RIGHT_CURLY_BRACKET",i[i.TILDE=126]="TILDE",r.escapedSequences={[s.QUOTATION_MARK]:s.QUOTATION_MARK,[s.REVERSE_SOLIDUS]:s.REVERSE_SOLIDUS,[s.SOLIDUS]:s.SOLIDUS,[s.LATIN_SMALL_LETTER_B]:s.BACKSPACE,[s.LATIN_SMALL_LETTER_F]:s.FORM_FEED,[s.LATIN_SMALL_LETTER_N]:s.NEWLINE,[s.LATIN_SMALL_LETTER_R]:s.CARRIAGE_RETURN,[s.LATIN_SMALL_LETTER_T]:s.TAB}},317651,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BufferedString=r.NonBufferedString=void 0,r.NonBufferedString=class{constructor(){this.decoder=new TextDecoder("utf-8"),this.string="",this.byteLength=0}appendChar(e){this.string+=String.fromCharCode(e),this.byteLength+=1}appendBuf(e,t=0,r=e.length){this.string+=this.decoder.decode(e.subarray(t,r)),this.byteLength+=r-t}reset(){this.string="",this.byteLength=0}toString(){return this.string}},r.BufferedString=class{constructor(e){this.decoder=new TextDecoder("utf-8"),this.bufferOffset=0,this.string="",this.byteLength=0,this.buffer=new Uint8Array(e)}appendChar(e){this.bufferOffset>=this.buffer.length&&this.flushStringBuffer(),this.buffer[this.bufferOffset++]=e,this.byteLength+=1}appendBuf(e,t=0,r=e.length){let s=r-t;this.bufferOffset+s>this.buffer.length&&this.flushStringBuffer(),this.buffer.set(e.subarray(t,r),this.bufferOffset),this.bufferOffset+=s,this.byteLength+=s}flushStringBuffer(){this.string+=this.decoder.decode(this.buffer.subarray(0,this.bufferOffset)),this.bufferOffset=0}reset(){this.string="",this.bufferOffset=0,this.byteLength=0}toString(){return this.flushStringBuffer(),this.string}}},87723,(e,t,r)=>{"use strict";var s;Object.defineProperty(r,"__esModule",{value:!0}),r.TokenType=void 0,(s=r.TokenType||(r.TokenType={}))[s.LEFT_BRACE=1]="LEFT_BRACE",s[s.RIGHT_BRACE=2]="RIGHT_BRACE",s[s.LEFT_BRACKET=3]="LEFT_BRACKET",s[s.RIGHT_BRACKET=4]="RIGHT_BRACKET",s[s.COLON=5]="COLON",s[s.COMMA=6]="COMMA",s[s.TRUE=7]="TRUE",s[s.FALSE=8]="FALSE",s[s.NULL=9]="NULL",s[s.STRING=10]="STRING",s[s.NUMBER=11]="NUMBER",s[s.SEPARATOR=12]="SEPARATOR"},700852,(e,t,r)=>{"use strict";var s,i;Object.defineProperty(r,"__esModule",{value:!0}),r.TokenizerError=void 0;let n=e.r(655909),o=e.r(317651),a=e.r(87723),{LEFT_BRACE:T,RIGHT_BRACE:_,LEFT_BRACKET:h,RIGHT_BRACKET:E,COLON:u,COMMA:A,TRUE:L,FALSE:c,NULL:d,STRING:f,NUMBER:l}=a.TokenType;(i=s||(s={}))[i.START=0]="START",i[i.ENDED=1]="ENDED",i[i.ERROR=2]="ERROR",i[i.TRUE1=3]="TRUE1",i[i.TRUE2=4]="TRUE2",i[i.TRUE3=5]="TRUE3",i[i.FALSE1=6]="FALSE1",i[i.FALSE2=7]="FALSE2",i[i.FALSE3=8]="FALSE3",i[i.FALSE4=9]="FALSE4",i[i.NULL1=10]="NULL1",i[i.NULL2=11]="NULL2",i[i.NULL3=12]="NULL3",i[i.STRING_DEFAULT=13]="STRING_DEFAULT",i[i.STRING_AFTER_BACKSLASH=14]="STRING_AFTER_BACKSLASH",i[i.STRING_UNICODE_DIGIT_1=15]="STRING_UNICODE_DIGIT_1",i[i.STRING_UNICODE_DIGIT_2=16]="STRING_UNICODE_DIGIT_2",i[i.STRING_UNICODE_DIGIT_3=17]="STRING_UNICODE_DIGIT_3",i[i.STRING_UNICODE_DIGIT_4=18]="STRING_UNICODE_DIGIT_4",i[i.STRING_INCOMPLETE_CHAR=19]="STRING_INCOMPLETE_CHAR",i[i.NUMBER_AFTER_INITIAL_MINUS=20]="NUMBER_AFTER_INITIAL_MINUS",i[i.NUMBER_AFTER_INITIAL_ZERO=21]="NUMBER_AFTER_INITIAL_ZERO",i[i.NUMBER_AFTER_INITIAL_NON_ZERO=22]="NUMBER_AFTER_INITIAL_NON_ZERO",i[i.NUMBER_AFTER_FULL_STOP=23]="NUMBER_AFTER_FULL_STOP",i[i.NUMBER_AFTER_DECIMAL=24]="NUMBER_AFTER_DECIMAL",i[i.NUMBER_AFTER_E=25]="NUMBER_AFTER_E",i[i.NUMBER_AFTER_E_AND_SIGN=26]="NUMBER_AFTER_E_AND_SIGN",i[i.NUMBER_AFTER_E_AND_DIGIT=27]="NUMBER_AFTER_E_AND_DIGIT",i[i.SEPARATOR=28]="SEPARATOR";let R={stringBufferSize:0,numberBufferSize:0,separator:void 0};class p extends Error{constructor(e){super(e),Object.setPrototypeOf(this,p.prototype)}}r.TokenizerError=p,r.default=class{constructor(e){this.state=s.START,this.separatorIndex=0,this.unicode=void 0,this.highSurrogate=void 0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.char_split_buffer=new Uint8Array(4),this.encoder=new TextEncoder,this.offset=-1,e=Object.assign(Object.assign({},R),e),this.bufferedString=e.stringBufferSize&&e.stringBufferSize>4?new o.BufferedString(e.stringBufferSize):new o.NonBufferedString,this.bufferedNumber=e.numberBufferSize&&e.numberBufferSize>0?new o.BufferedString(e.numberBufferSize):new o.NonBufferedString,this.separator=e.separator,this.separatorBytes=e.separator?this.encoder.encode(e.separator):void 0}get isEnded(){return this.state===s.ENDED}write(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=this.encoder.encode(e);else{if(!("object"==typeof e&&"buffer"in e||Array.isArray(e)))return void this.error(TypeError("Unexpected type. The `write` function only accepts Arrays, TypedArrays and Strings."));t=Uint8Array.from(e)}for(let e=0;e<t.length;e+=1){let r=t[e];switch(this.state){case s.START:if(this.offset+=1,this.separatorBytes&&r===this.separatorBytes[0]){if(1===this.separatorBytes.length){this.state=s.START,this.onToken(a.TokenType.SEPARATOR,this.separator,this.offset+this.separatorBytes.length-1);continue}this.state=s.SEPARATOR;continue}if(r===n.charset.SPACE||r===n.charset.NEWLINE||r===n.charset.CARRIAGE_RETURN||r===n.charset.TAB)continue;if(r===n.charset.LEFT_CURLY_BRACKET){this.onToken(T,"{",this.offset);continue}if(r===n.charset.RIGHT_CURLY_BRACKET){this.onToken(_,"}",this.offset);continue}if(r===n.charset.LEFT_SQUARE_BRACKET){this.onToken(h,"[",this.offset);continue}if(r===n.charset.RIGHT_SQUARE_BRACKET){this.onToken(E,"]",this.offset);continue}if(r===n.charset.COLON){this.onToken(u,":",this.offset);continue}if(r===n.charset.COMMA){this.onToken(A,",",this.offset);continue}if(r===n.charset.LATIN_SMALL_LETTER_T){this.state=s.TRUE1;continue}if(r===n.charset.LATIN_SMALL_LETTER_F){this.state=s.FALSE1;continue}if(r===n.charset.LATIN_SMALL_LETTER_N){this.state=s.NULL1;continue}if(r===n.charset.QUOTATION_MARK){this.bufferedString.reset(),this.state=s.STRING_DEFAULT;continue}if(r>=n.charset.DIGIT_ONE&&r<=n.charset.DIGIT_NINE){this.bufferedNumber.reset(),this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_INITIAL_NON_ZERO;continue}if(r===n.charset.DIGIT_ZERO){this.bufferedNumber.reset(),this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_INITIAL_ZERO;continue}if(r===n.charset.HYPHEN_MINUS){this.bufferedNumber.reset(),this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_INITIAL_MINUS;continue}break;case s.STRING_DEFAULT:if(r===n.charset.QUOTATION_MARK){let e=this.bufferedString.toString();this.state=s.START,this.onToken(f,e,this.offset),this.offset+=this.bufferedString.byteLength+1;continue}if(r===n.charset.REVERSE_SOLIDUS){this.state=s.STRING_AFTER_BACKSLASH;continue}if(r>=128){if(r>=194&&r<=223?this.bytes_in_sequence=2:r<=239?this.bytes_in_sequence=3:this.bytes_in_sequence=4,this.bytes_in_sequence<=t.length-e){this.bufferedString.appendBuf(t,e,e+this.bytes_in_sequence),e+=this.bytes_in_sequence-1;continue}this.bytes_remaining=e+this.bytes_in_sequence-t.length,this.char_split_buffer.set(t.subarray(e)),e=t.length-1,this.state=s.STRING_INCOMPLETE_CHAR;continue}if(r>=n.charset.SPACE){this.bufferedString.appendChar(r);continue}break;case s.STRING_INCOMPLETE_CHAR:this.char_split_buffer.set(t.subarray(e,e+this.bytes_remaining),this.bytes_in_sequence-this.bytes_remaining),this.bufferedString.appendBuf(this.char_split_buffer,0,this.bytes_in_sequence),e=this.bytes_remaining-1,this.state=s.STRING_DEFAULT;continue;case s.STRING_AFTER_BACKSLASH:let i=n.escapedSequences[r];if(i){this.bufferedString.appendChar(i),this.state=s.STRING_DEFAULT;continue}if(r===n.charset.LATIN_SMALL_LETTER_U){this.unicode="",this.state=s.STRING_UNICODE_DIGIT_1;continue}break;case s.STRING_UNICODE_DIGIT_1:case s.STRING_UNICODE_DIGIT_2:case s.STRING_UNICODE_DIGIT_3:if(r>=n.charset.DIGIT_ZERO&&r<=n.charset.DIGIT_NINE||r>=n.charset.LATIN_CAPITAL_LETTER_A&&r<=n.charset.LATIN_CAPITAL_LETTER_F||r>=n.charset.LATIN_SMALL_LETTER_A&&r<=n.charset.LATIN_SMALL_LETTER_F){this.unicode+=String.fromCharCode(r),this.state+=1;continue}break;case s.STRING_UNICODE_DIGIT_4:if(r>=n.charset.DIGIT_ZERO&&r<=n.charset.DIGIT_NINE||r>=n.charset.LATIN_CAPITAL_LETTER_A&&r<=n.charset.LATIN_CAPITAL_LETTER_F||r>=n.charset.LATIN_SMALL_LETTER_A&&r<=n.charset.LATIN_SMALL_LETTER_F){let e=parseInt(this.unicode+String.fromCharCode(r),16);void 0===this.highSurrogate?e>=55296&&e<=56319?this.highSurrogate=e:this.bufferedString.appendBuf(this.encoder.encode(String.fromCharCode(e))):(e>=56320&&e<=57343?this.bufferedString.appendBuf(this.encoder.encode(String.fromCharCode(this.highSurrogate,e))):this.bufferedString.appendBuf(this.encoder.encode(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.state=s.STRING_DEFAULT;continue}case s.NUMBER_AFTER_INITIAL_MINUS:if(r===n.charset.DIGIT_ZERO){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_INITIAL_ZERO;continue}if(r>=n.charset.DIGIT_ONE&&r<=n.charset.DIGIT_NINE){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_INITIAL_NON_ZERO;continue}break;case s.NUMBER_AFTER_INITIAL_ZERO:if(r===n.charset.FULL_STOP){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_FULL_STOP;continue}if(r===n.charset.LATIN_SMALL_LETTER_E||r===n.charset.LATIN_CAPITAL_LETTER_E){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_E;continue}e-=1,this.state=s.START,this.emitNumber();continue;case s.NUMBER_AFTER_INITIAL_NON_ZERO:if(r>=n.charset.DIGIT_ZERO&&r<=n.charset.DIGIT_NINE){this.bufferedNumber.appendChar(r);continue}if(r===n.charset.FULL_STOP){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_FULL_STOP;continue}if(r===n.charset.LATIN_SMALL_LETTER_E||r===n.charset.LATIN_CAPITAL_LETTER_E){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_E;continue}e-=1,this.state=s.START,this.emitNumber();continue;case s.NUMBER_AFTER_FULL_STOP:if(r>=n.charset.DIGIT_ZERO&&r<=n.charset.DIGIT_NINE){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_DECIMAL;continue}break;case s.NUMBER_AFTER_DECIMAL:if(r>=n.charset.DIGIT_ZERO&&r<=n.charset.DIGIT_NINE){this.bufferedNumber.appendChar(r);continue}if(r===n.charset.LATIN_SMALL_LETTER_E||r===n.charset.LATIN_CAPITAL_LETTER_E){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_E;continue}e-=1,this.state=s.START,this.emitNumber();continue;case s.NUMBER_AFTER_E:if(r===n.charset.PLUS_SIGN||r===n.charset.HYPHEN_MINUS){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_E_AND_SIGN;continue}case s.NUMBER_AFTER_E_AND_SIGN:if(r>=n.charset.DIGIT_ZERO&&r<=n.charset.DIGIT_NINE){this.bufferedNumber.appendChar(r),this.state=s.NUMBER_AFTER_E_AND_DIGIT;continue}break;case s.NUMBER_AFTER_E_AND_DIGIT:if(r>=n.charset.DIGIT_ZERO&&r<=n.charset.DIGIT_NINE){this.bufferedNumber.appendChar(r);continue}e-=1,this.state=s.START,this.emitNumber();continue;case s.TRUE1:if(r===n.charset.LATIN_SMALL_LETTER_R){this.state=s.TRUE2;continue}break;case s.TRUE2:if(r===n.charset.LATIN_SMALL_LETTER_U){this.state=s.TRUE3;continue}break;case s.TRUE3:if(r===n.charset.LATIN_SMALL_LETTER_E){this.state=s.START,this.onToken(L,!0,this.offset),this.offset+=3;continue}break;case s.FALSE1:if(r===n.charset.LATIN_SMALL_LETTER_A){this.state=s.FALSE2;continue}break;case s.FALSE2:if(r===n.charset.LATIN_SMALL_LETTER_L){this.state=s.FALSE3;continue}break;case s.FALSE3:if(r===n.charset.LATIN_SMALL_LETTER_S){this.state=s.FALSE4;continue}break;case s.FALSE4:if(r===n.charset.LATIN_SMALL_LETTER_E){this.state=s.START,this.onToken(c,!1,this.offset),this.offset+=4;continue}break;case s.NULL1:if(r===n.charset.LATIN_SMALL_LETTER_U){this.state=s.NULL2;continue}break;case s.NULL2:if(r===n.charset.LATIN_SMALL_LETTER_L){this.state=s.NULL3;continue}break;case s.NULL3:if(r===n.charset.LATIN_SMALL_LETTER_L){this.state=s.START,this.onToken(d,null,this.offset),this.offset+=3;continue}break;case s.SEPARATOR:if(this.separatorIndex+=1,!this.separatorBytes||r!==this.separatorBytes[this.separatorIndex])break;this.separatorIndex===this.separatorBytes.length-1&&(this.state=s.START,this.onToken(a.TokenType.SEPARATOR,this.separator,this.offset+this.separatorIndex),this.separatorIndex=0);continue;case s.ENDED:if(r===n.charset.SPACE||r===n.charset.NEWLINE||r===n.charset.CARRIAGE_RETURN||r===n.charset.TAB)continue}this.error(new p(`Unexpected "${String.fromCharCode(r)}" at position "${e}" in state ${s[this.state]}`));return}}emitNumber(){this.onToken(l,this.parseNumber(this.bufferedNumber.toString()),this.offset),this.offset+=this.bufferedNumber.byteLength-1}parseNumber(e){return Number(e)}error(e){this.state!==s.ENDED&&(this.state=s.ERROR),this.onError(e)}end(){switch(this.state){case s.NUMBER_AFTER_INITIAL_ZERO:case s.NUMBER_AFTER_INITIAL_NON_ZERO:case s.NUMBER_AFTER_DECIMAL:case s.NUMBER_AFTER_E_AND_DIGIT:this.state=s.ENDED,this.emitNumber(),this.onEnd();break;case s.START:case s.ERROR:case s.SEPARATOR:this.state=s.ENDED,this.onEnd();break;default:this.error(new p(`Tokenizer ended in the middle of a token (state: ${s[this.state]}). Either not all the data was received or the data was invalid.`))}}onToken(e,t,r){throw new p('Can\'t emit tokens before the "onToken" callback has been set up.')}onError(e){throw e}onEnd(){}}},910500,(e,t,r)=>{"use strict";var s,i,n,o;Object.defineProperty(r,"__esModule",{value:!0}),r.TokenParserError=r.TokenParserMode=void 0;let a=e.r(87723),{LEFT_BRACE:T,RIGHT_BRACE:_,LEFT_BRACKET:h,RIGHT_BRACKET:E,COLON:u,COMMA:A,TRUE:L,FALSE:c,NULL:d,STRING:f,NUMBER:l,SEPARATOR:R}=a.TokenType;(n=s||(s={}))[n.VALUE=0]="VALUE",n[n.KEY=1]="KEY",n[n.COLON=2]="COLON",n[n.COMMA=3]="COMMA",n[n.ENDED=4]="ENDED",n[n.ERROR=5]="ERROR",n[n.SEPARATOR=6]="SEPARATOR",(o=i=r.TokenParserMode||(r.TokenParserMode={}))[o.OBJECT=0]="OBJECT",o[o.ARRAY=1]="ARRAY";let p={paths:void 0,keepStack:!0,separator:void 0};class I extends Error{constructor(e){super(e),Object.setPrototypeOf(this,I.prototype)}}r.TokenParserError=I,r.default=class{constructor(e){this.state=s.VALUE,this.mode=void 0,this.key=void 0,this.value=void 0,this.stack=[],(e=Object.assign(Object.assign({},p),e)).paths&&(this.paths=e.paths.map(e=>{if(void 0===e||"$*"===e)return;if(!e.startsWith("$"))throw new I(`Invalid selector "${e}". Should start with "$".`);let t=e.split(".").slice(1);if(t.includes(""))throw new I(`Invalid selector "${e}". ".." syntax not supported.`);return t})),this.keepStack=e.keepStack,this.separator=e.separator}shouldEmit(){return!this.paths||this.paths.some(e=>{var t;if(void 0===e)return!0;if(e.length!==this.stack.length)return!1;for(let t=0;t<e.length-1;t++){let r=e[t],s=this.stack[t+1].key;if("*"!==r&&r!==s)return!1}let r=e[e.length-1];return"*"===r||r===(null==(t=this.key)?void 0:t.toString())})}push(){this.stack.push({key:this.key,value:this.value,mode:this.mode,emit:this.shouldEmit()})}pop(){let e,t=this.value;({key:this.key,value:this.value,mode:this.mode,emit:e}=this.stack.pop()),this.state=void 0!==this.mode?s.COMMA:s.VALUE,this.emit(t,e)}emit(e,t){!this.keepStack&&this.value&&this.stack.every(e=>!e.emit)&&delete this.value[this.key],t&&this.onValue(e,this.key,this.value,this.stack),0===this.stack.length&&(this.separator?this.state=s.SEPARATOR:void 0===this.separator&&this.end())}get isEnded(){return this.state===s.ENDED}write(e,t){if(this.state===s.VALUE){if(e===f||e===l||e===L||e===c||e===d){this.mode===i.OBJECT?(this.value[this.key]=t,this.state=s.COMMA):this.mode===i.ARRAY&&(this.value.push(t),this.state=s.COMMA),this.emit(t,this.shouldEmit());return}if(e===T){if(this.push(),this.mode===i.OBJECT)this.value=this.value[this.key]={};else if(this.mode===i.ARRAY){let e={};this.value.push(e),this.value=e}else this.value={};this.mode=i.OBJECT,this.state=s.KEY,this.key=void 0;return}if(e===h){if(this.push(),this.mode===i.OBJECT)this.value=this.value[this.key]=[];else if(this.mode===i.ARRAY){let e=[];this.value.push(e),this.value=e}else this.value=[];this.mode=i.ARRAY,this.state=s.VALUE,this.key=0;return}if(this.mode===i.ARRAY&&e===E&&0===this.value.length)return void this.pop()}if(this.state===s.KEY){if(e===f){this.key=t,this.state=s.COLON;return}if(e===_&&0===Object.keys(this.value).length)return void this.pop()}if(this.state===s.COLON&&e===u){this.state=s.VALUE;return}if(this.state===s.COMMA){if(e===A){if(this.mode===i.ARRAY){this.state=s.VALUE,this.key+=1;return}if(this.mode===i.OBJECT){this.state=s.KEY;return}}if(e===_&&this.mode===i.OBJECT||e===E&&this.mode===i.ARRAY)return void this.pop()}if(this.state===s.SEPARATOR&&e===R&&t===this.separator){this.state=s.VALUE;return}this.error(new I(`Unexpected ${a.TokenType[e]} (${JSON.stringify(t)}) in state ${s[this.state]}`))}error(e){this.state!==s.ENDED&&(this.state=s.ERROR),this.onError(e)}end(){this.state!==s.VALUE&&this.state!==s.SEPARATOR||this.stack.length>0?this.error(Error(`Parser ended in mid-parsing (state: ${s[this.state]}). Either not all the data was received or the data was invalid.`)):(this.state=s.ENDED,this.onEnd())}onValue(e,t,r,s){throw new I('Can\'t emit data before the "onValue" callback has been set up.')}onError(e){throw e}onEnd(){}}},120822,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(700852),i=e.r(910500);r.default=class{constructor(e={}){this.tokenizer=new s.default(e),this.tokenParser=new i.default(e),this.tokenizer.onToken=this.tokenParser.write.bind(this.tokenParser),this.tokenizer.onEnd=()=>{this.tokenParser.isEnded||this.tokenParser.end()},this.tokenParser.onError=this.tokenizer.error.bind(this.tokenizer),this.tokenParser.onEnd=()=>{this.tokenizer.isEnded||this.tokenizer.end()}}get isEnded(){return this.tokenizer.isEnded&&this.tokenParser.isEnded}write(e){this.tokenizer.write(e)}end(){this.tokenizer.end()}set onToken(e){this.tokenizer.onToken=e}set onValue(e){this.tokenParser.onValue=e}set onError(e){this.tokenizer.onError=e}set onEnd(e){this.tokenParser.onEnd=()=>{this.tokenizer.isEnded||this.tokenizer.end(),e.call(this.tokenParser)}}}},551780,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TokenType=r.utf8=r.JSONParser=r.TokenParser=r.Tokenizer=void 0;var s=e.r(700852);Object.defineProperty(r,"Tokenizer",{enumerable:!0,get:function(){return s.default}});var i=e.r(910500);Object.defineProperty(r,"TokenParser",{enumerable:!0,get:function(){return i.default}});var n=e.r(120822);Object.defineProperty(r,"JSONParser",{enumerable:!0,get:function(){return n.default}}),r.utf8=e.r(655909);var o=e.r(87723);Object.defineProperty(r,"TokenType",{enumerable:!0,get:function(){return o.TokenType}})},72856,(e,t,r)=>{let s=e.r(668711),{Tokenizer:i,TokenParser:n,TokenType:o}=e.r(551780);t.exports=class extends s{constructor(e,t){super(e),this.opts=this.preprocessOpts(e),this.initTokenizer(e,t),this.opts.fields&&this.preprocessFieldsInfo(this.opts.fields)}initTokenizer(e={},t={}){if(t.objectMode){this.tokenizer=this.getObjectModeTokenizer();return}if(e.ndjson){this.tokenizer=this.getNdJsonTokenizer(t);return}this.tokenizer=this.getBinaryModeTokenizer(t)}getObjectModeTokenizer(){return{write:e=>this.pushLine(e),end:()=>{this.pushHeaderIfNotWritten(),this.onEnd()}}}configureCallbacks(e,t){e.onToken=t.write.bind(this.tokenParser),e.onError=e=>this.onError(e),e.onEnd=()=>{this.tokenParser.isEnded||this.tokenParser.end()},t.onValue=e=>this.pushLine(e),t.onError=e=>this.onError(e),t.onEnd=()=>{this.pushHeaderIfNotWritten(),this.onEnd()}}getNdJsonTokenizer(e){let t=new i({...e,separator:"\n"});return this.tokenParser=new n({paths:["$"],keepStack:!1,separator:"\n"}),this.configureCallbacks(t,this.tokenParser),t}getBinaryModeTokenizer(e){let t=new i(e);return t.onToken=(e,r,s)=>{if(e===o.LEFT_BRACKET)this.tokenParser=new n({paths:["$.*"],keepStack:!1});else{if(e!==o.LEFT_BRACE)return void this.onError(Error("Data should be a JSON object or array"));this.tokenParser=new n({paths:["$"],keepStack:!1})}this.configureCallbacks(t,this.tokenParser),this.tokenParser.write(e,r,s)},t.onError=()=>this.onError(Error("Data should be a JSON object or array")),t.onEnd=()=>{this.onError(Error('Data should not be empty or the "fields" option should be included')),this.onEnd()},t}write(e){this.tokenizer.write(e)}end(){this.tokenizer&&!this.tokenizer.isEnded&&this.tokenizer.end()}pushHeaderIfNotWritten(){if(!this._hasWritten){if(!this.opts.fields)return void this.onError(Error('Data should not be empty or the "fields" option should be included'));this.pushHeader()}}pushHeader(){if(this.opts.withBOM&&this.onData("\uFEFF"),this.opts.header){let e=this.getHeader(this.opts.fields);this.onHeader(e),this.onData(e),this._hasWritten=!0}}pushLine(e){let t=this.preprocessRow(e);this._hasWritten||(this.opts.fields=this.preprocessFieldsInfo(this.opts.fields||Object.keys(t[0])),this.pushHeader(this.opts.fields)),t.forEach(e=>{let t=this.processRow(e,this.opts.fields);void 0!==t&&(this.onLine(t),this.onData(this._hasWritten?this.opts.eol+t:t),this._hasWritten=!0)})}onHeader(e){}onLine(e){}onData(e){}onError(){}onEnd(){}}},446131,(e,t,r)=>{"use strict";let{Transform:s}=e.r(688947),i=e.r(72856),{fakeInherit:n}=e.r(753784);t.exports=class extends s{constructor(e,t={},r={}){super(t),n(this,i),this.endUnderlayingParser=i.prototype.end,this.opts=this.preprocessOpts(e),this.initTokenizer(e,{...r,objectMode:t.objectMode||t.readableObjectMode}),this.opts.fields&&this.preprocessFieldsInfo(this.opts.fields)}onHeader(e){this.emit("header",e)}onLine(e){this.emit("line",e)}onData(e){this.push(e)}onError(e){throw e}onEnd(){this.writableEnded||this.end()}_transform(e,t,r){try{this.tokenizer.write(e),r()}catch(e){r(e)}}_final(e){try{this.endUnderlayingParser(),e()}catch(t){e(t)}}promise(){return new Promise((e,t)=>{let r=[];this.on("data",e=>r.push(e.toString())).on("finish",()=>e(r.join(""))).on("error",e=>t(e))})}}},924673,(e,t,r)=>{"use strict";let{Readable:s}=e.r(688947),i=e.r(446131);t.exports=class{constructor(e,t){this.opts=e,this.transformOpts=t}parse(e){if("string"==typeof e||ArrayBuffer.isView(e)?e=s.from(e,{objectMode:!1}):Array.isArray(e)?e=s.from(e.filter(e=>null!==e)):"object"!=typeof e||e instanceof s||(e=s.from([e])),!(e instanceof s))throw Error("Data should be a JSON object, JSON array, typed array, string or stream");return e.pipe(new i(this.opts,{objectMode:e.readableObjectMode,...this.transformOpts}))}}},962743,(e,t,r)=>{t.exports=function({objects:e=!0,arrays:t=!1,separator:r="."}={}){return s=>(function s(i,n,o){return Object.keys(i).forEach(a=>{let T=o?`${o}${r}${a}`:a,_=i[a];e&&"object"==typeof _&&null!==_&&!Array.isArray(_)&&"[object Function]"!==Object.prototype.toString.call(_.toJSON)&&Object.keys(_).length||t&&Array.isArray(_)?s(_,n,T):n[T]=_}),n})(s,{})}},494828,(e,t,r)=>{let s=e.r(747861),{setProp:i,unsetProp:n}=e.r(753784);t.exports=function({paths:e,blankOut:t=!1}={}){function r(e,r){return e.flatMap(e=>{let o=s(e,r);if(!Array.isArray(o))return e;if(!o.length)return n(e,r);let a=t?{}:e,[T,..._]=o;return[i(e,r,T),..._.map(e=>i(a,r,e))]})}return e=Array.isArray(e)?e:e?[e]:void 0,t=>(e||function e(t,r){return Object.keys(t).reduce((s,i)=>{let n=r?`${r}.${i}`:i,o=t[i];return"object"==typeof o&&null!==o&&!Array.isArray(o)&&"[object Function]"!==Object.prototype.toString.call(o.toJSON)&&Object.keys(o).length?s=s.concat(e(o,n)):Array.isArray(o)&&(s.push(n),s=s.concat(o.flatMap(t=>e(t,n)).filter((e,t,r)=>r.indexOf(e)!==t))),s},[])}(t)).reduce(r,[t])}},388416,(e,t,r)=>{let s=e.r(446786),i=e.r(556509);t.exports=function(e={}){let t="string"==typeof e.quote?e.quote:'"',r="string"==typeof e.escapedQuote?e.escapedQuote:`${t}${t}`,n="string"==typeof e.separator?e.separator:",",o="string"==typeof e.eol?e.escapedQeoluote:s.EOL,a=i({quote:t,escapedQuote:r});return e=>[t,n,o].some(t=>e.includes(t))?a(e):e}},774774,(e,t,r)=>{t.exports=function(e){return`"=""${e.replace(RegExp('"',"g"),'""""')}"""`}},148280,(e,t,r)=>{"use strict";let s=e.r(555501),i=e.r(924673),n=e.r(72856),o=e.r(446131),a=e.r(962743),T=e.r(494828),_=e.r(723141),h=e.r(328463),E=e.r(556509),u=e.r(388416),A=e.r(774774),L=e.r(253217),c=e.r(71644);t.exports.Parser=s,t.exports.AsyncParser=i,t.exports.StreamParser=n,t.exports.Transform=o,t.exports.parse=(e,t)=>new s(t).parse(e),t.exports.parseAsync=(e,t,r)=>new i(t,r).parse(e).promise(),t.exports.transforms={flatten:a,unwind:T},t.exports.formatters={default:_,number:h,string:E,stringQuoteOnlyIfNecessary:u,stringExcel:A,symbol:L,object:c}},881472,e=>e.a(async(t,r)=>{try{var s=e.i(89171),i=e.i(707218),n=e.i(868253),o=e.i(169907),a=e.i(148280),T=t([n]);async function _(e){try{let{userId:e}=await (0,i.auth)();if(!e)return s.NextResponse.json({error:"Unauthorized"},{status:401});let t=(await n.db.collection(n.COLLECTIONS.INVOICES).where("freelancerId","==",e).get()).docs.map(e=>e.data()),r=new a.Parser({fields:["invoiceId","clientName","invoiceDate","dueDate","amount","paidAmount","outstandingAmount","status","paidAt","createdAt"]}),o=t.map(e=>({invoiceId:e.invoiceId,clientName:e.clientName,invoiceDate:e.invoiceDate?e.invoiceDate instanceof Date?e.invoiceDate.toISOString():e.invoiceDate.toDate().toISOString():null,dueDate:e.dueDate?e.dueDate instanceof Date?e.dueDate.toISOString():e.dueDate.toDate().toISOString():null,amount:e.amount,paidAmount:"paid"===e.status?e.amount:0,outstandingAmount:"paid"!==e.status?e.amount:0,status:e.status,paidAt:e.paidAt?e.paidAt instanceof Date?e.paidAt.toISOString():e.paidAt.toDate().toISOString():null,createdAt:e.createdAt?e.createdAt instanceof Date?e.createdAt.toISOString():e.createdAt.toDate().toISOString():null})),T=r.parse(o);return new s.NextResponse(T,{status:200,headers:{"Content-Type":"text/csv","Content-Disposition":'attachment; filename="invoices.csv"'}})}catch(e){return(0,o.logError)("Failed to export invoices as CSV",e),s.NextResponse.json({error:"Failed to export invoices as CSV"},{status:500})}}[n]=T.then?(await T)():T,e.s(["GET",()=>_]),r()}catch(e){r(e)}},!1),123631,e=>e.a(async(t,r)=>{try{var s=e.i(747909),i=e.i(174017),n=e.i(996250),o=e.i(759756),a=e.i(561916),T=e.i(114444),_=e.i(837092),h=e.i(869741),E=e.i(316795),u=e.i(487718),A=e.i(995169),L=e.i(47587),c=e.i(666012),d=e.i(570101),f=e.i(626937),l=e.i(10372),R=e.i(193695);e.i(52474);var p=e.i(600220),I=e.i(881472),N=t([I]);[I]=N.then?(await N)():N;let b=new s.AppRouteRouteModule({definition:{kind:i.RouteKind.APP_ROUTE,page:"/api/dashboard/export/csv/route",pathname:"/api/dashboard/export/csv",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/app/api/dashboard/export/csv/route.ts",nextConfigOutput:"",userland:I}),{workAsyncStorage:C,workUnitAsyncStorage:y,serverHooks:g}=b;function S(){return(0,n.patchFetch)({workAsyncStorage:C,workUnitAsyncStorage:y})}async function O(e,t,r){b.isDev&&(0,o.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let s="/api/dashboard/export/csv/route";s=s.replace(/\/index$/,"")||"/";let n=await b.prepare(e,t,{srcPage:s,multiZoneDraftMode:!1});if(!n)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:I,params:N,nextConfig:S,parsedUrl:O,isDraftMode:C,prerenderManifest:y,routerServerContext:g,isOnDemandRevalidate:M,revalidateOnlyGenerated:m,resolvedPathname:v,clientReferenceManifest:P,serverActionsManifest:U}=n,D=(0,h.normalizeAppPath)(s),k=!!(y.dynamicRoutes[D]||y.routes[v]),F=async()=>((null==g?void 0:g.render404)?await g.render404(e,t,O,!1):t.end("This page could not be found"),null);if(k&&!C){let e=!!y.routes[v],t=y.dynamicRoutes[D];if(t&&!1===t.fallback&&!e){if(S.experimental.adapterPath)return await F();throw new R.NoFallbackError}}let G=null;!k||b.isDev||C||(G=v,G="/index"===G?"/":G);let B=!0===b.isDev||!k,w=k&&!B;U&&P&&(0,T.setReferenceManifestsSingleton)({page:s,clientReferenceManifest:P,serverActionsManifest:U,serverModuleMap:(0,_.createServerModuleMap)({serverActionsManifest:U})});let x=e.method||"GET",j=(0,a.getTracer)(),H=j.getActiveScopeSpan(),K={params:N,prerenderManifest:y,renderOpts:{experimental:{authInterrupts:!!S.experimental.authInterrupts},cacheComponents:!!S.cacheComponents,supportsDynamicResponse:B,incrementalCache:(0,o.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:S.cacheLife,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,s)=>b.onRequestError(e,t,s,g)},sharedContext:{buildId:I}},$=new E.NodeNextRequest(e),z=new E.NodeNextResponse(t),V=u.NextRequestAdapter.fromNodeNextRequest($,(0,u.signalFromNodeResponse)(t));try{let n=async e=>b.handle(V,K).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=j.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==A.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let i=r.get("next.route");if(i){let t=`${x} ${i}`;e.setAttributes({"next.route":i,"http.route":i,"next.span_name":t}),e.updateName(t)}else e.updateName(`${x} ${s}`)}),T=!!(0,o.getRequestMeta)(e,"minimalMode"),_=async o=>{var a,_;let h=async({previousCacheEntry:i})=>{try{if(!T&&M&&m&&!i)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await n(o);e.fetchMetrics=K.renderOpts.fetchMetrics;let a=K.renderOpts.pendingWaitUntil;a&&r.waitUntil&&(r.waitUntil(a),a=void 0);let _=K.renderOpts.collectedTags;if(!k)return await (0,c.sendResponse)($,z,s,K.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,d.toNodeOutgoingHttpHeaders)(s.headers);_&&(t[l.NEXT_CACHE_TAGS_HEADER]=_),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==K.renderOpts.collectedRevalidate&&!(K.renderOpts.collectedRevalidate>=l.INFINITE_CACHE)&&K.renderOpts.collectedRevalidate,i=void 0===K.renderOpts.collectedExpire||K.renderOpts.collectedExpire>=l.INFINITE_CACHE?void 0:K.renderOpts.collectedExpire;return{value:{kind:p.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:i}}}}catch(t){throw(null==i?void 0:i.isStale)&&await b.onRequestError(e,t,{routerKind:"App Router",routePath:s,routeType:"route",revalidateReason:(0,L.getRevalidateReason)({isStaticGeneration:w,isOnDemandRevalidate:M})},g),t}},E=await b.handleResponse({req:e,nextConfig:S,cacheKey:G,routeKind:i.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:y,isRoutePPREnabled:!1,isOnDemandRevalidate:M,revalidateOnlyGenerated:m,responseGenerator:h,waitUntil:r.waitUntil,isMinimalMode:T});if(!k)return null;if((null==E||null==(a=E.value)?void 0:a.kind)!==p.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==E||null==(_=E.value)?void 0:_.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});T||t.setHeader("x-nextjs-cache",M?"REVALIDATED":E.isMiss?"MISS":E.isStale?"STALE":"HIT"),C&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let u=(0,d.fromNodeOutgoingHttpHeaders)(E.value.headers);return T&&k||u.delete(l.NEXT_CACHE_TAGS_HEADER),!E.cacheControl||t.getHeader("Cache-Control")||u.get("Cache-Control")||u.set("Cache-Control",(0,f.getCacheControlHeader)(E.cacheControl)),await (0,c.sendResponse)($,z,new Response(E.value.body,{headers:u,status:E.value.status||200})),null};H?await _(H):await j.withPropagatedContext(e.headers,()=>j.trace(A.BaseServerSpan.handleRequest,{spanName:`${x} ${s}`,kind:a.SpanKind.SERVER,attributes:{"http.method":x,"http.target":e.url}},_))}catch(t){if(t instanceof R.NoFallbackError||await b.onRequestError(e,t,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,L.getRevalidateReason)({isStaticGeneration:w,isOnDemandRevalidate:M})}),k)throw t;return await (0,c.sendResponse)($,z,new Response(null,{status:500})),null}}e.s(["handler",()=>O,"patchFetch",()=>S,"routeModule",()=>b,"serverHooks",()=>g,"workAsyncStorage",()=>C,"workUnitAsyncStorage",()=>y]),r()}catch(e){r(e)}},!1)];

//# sourceMappingURL=_90feb29d._.js.map