{"version":3,"sources":["turbopack:///[project]/node_modules/next/package.json","../../../lib/firebase.ts","../../../utils/logger.ts","../../../utils/error.ts","../../../services/analyticsService.ts","../../../lib/ratelimit.ts"],"sourcesContent":["{\"name\":\"next\",\"version\":\"16.0.3\",\"description\":\"The React Framework\",\"main\":\"./dist/server/next.js\",\"license\":\"MIT\",\"repository\":\"vercel/next.js\",\"bugs\":\"https://github.com/vercel/next.js/issues\",\"homepage\":\"https://nextjs.org\",\"types\":\"index.d.ts\",\"files\":[\"dist\",\"app.js\",\"app.d.ts\",\"babel.js\",\"babel.d.ts\",\"client.js\",\"client.d.ts\",\"compat\",\"cache.js\",\"cache.d.ts\",\"constants.js\",\"constants.d.ts\",\"document.js\",\"document.d.ts\",\"dynamic.js\",\"dynamic.d.ts\",\"error.js\",\"error.d.ts\",\"future\",\"legacy\",\"script.js\",\"script.d.ts\",\"server.js\",\"server.d.ts\",\"head.js\",\"head.d.ts\",\"image.js\",\"image.d.ts\",\"link.js\",\"link.d.ts\",\"form.js\",\"form.d.ts\",\"router.js\",\"router.d.ts\",\"jest.js\",\"jest.d.ts\",\"og.js\",\"og.d.ts\",\"root-params.js\",\"root-params.d.ts\",\"types.d.ts\",\"types.js\",\"index.d.ts\",\"types/global.d.ts\",\"types/compiled.d.ts\",\"image-types/global.d.ts\",\"navigation-types/navigation.d.ts\",\"navigation-types/compat/navigation.d.ts\",\"font\",\"navigation.js\",\"navigation.d.ts\",\"headers.js\",\"headers.d.ts\",\"navigation-types\",\"web-vitals.js\",\"web-vitals.d.ts\",\"experimental/testing/server.js\",\"experimental/testing/server.d.ts\",\"experimental/testmode/playwright.js\",\"experimental/testmode/playwright.d.ts\",\"experimental/testmode/playwright/msw.js\",\"experimental/testmode/playwright/msw.d.ts\",\"experimental/testmode/proxy.js\",\"experimental/testmode/proxy.d.ts\"],\"bin\":{\"next\":\"./dist/bin/next\"},\"scripts\":{\"dev\":\"cross-env NEXT_SERVER_NO_MANGLE=1 taskr\",\"release\":\"taskr release\",\"build\":\"pnpm release\",\"prepublishOnly\":\"cd ../../ && turbo run build\",\"types\":\"tsc --project tsconfig.build.json --declaration --emitDeclarationOnly --stripInternal --declarationDir dist\",\"typescript\":\"tsec --noEmit\",\"ncc-compiled\":\"taskr ncc\",\"storybook\":\"BROWSER=none storybook dev -p 6006\",\"build-storybook\":\"storybook build\",\"test-storybook\":\"test-storybook\"},\"taskr\":{\"requires\":[\"./taskfile-webpack.js\",\"./taskfile-ncc.js\",\"./taskfile-swc.js\",\"./taskfile-watch.js\"]},\"dependencies\":{\"@next/env\":\"16.0.3\",\"@swc/helpers\":\"0.5.15\",\"caniuse-lite\":\"^1.0.30001579\",\"postcss\":\"8.4.31\",\"styled-jsx\":\"5.1.6\"},\"peerDependencies\":{\"@opentelemetry/api\":\"^1.1.0\",\"@playwright/test\":\"^1.51.1\",\"babel-plugin-react-compiler\":\"*\",\"react\":\"^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0\",\"react-dom\":\"^18.2.0 || 19.0.0-rc-de68d2f4-20241204 || ^19.0.0\",\"sass\":\"^1.3.0\"},\"peerDependenciesMeta\":{\"babel-plugin-react-compiler\":{\"optional\":true},\"sass\":{\"optional\":true},\"@opentelemetry/api\":{\"optional\":true},\"@playwright/test\":{\"optional\":true}},\"optionalDependencies\":{\"sharp\":\"^0.34.4\",\"@next/swc-darwin-arm64\":\"16.0.3\",\"@next/swc-darwin-x64\":\"16.0.3\",\"@next/swc-linux-arm64-gnu\":\"16.0.3\",\"@next/swc-linux-arm64-musl\":\"16.0.3\",\"@next/swc-linux-x64-gnu\":\"16.0.3\",\"@next/swc-linux-x64-musl\":\"16.0.3\",\"@next/swc-win32-arm64-msvc\":\"16.0.3\",\"@next/swc-win32-x64-msvc\":\"16.0.3\"},\"devDependencies\":{\"@babel/code-frame\":\"7.26.2\",\"@babel/core\":\"7.26.10\",\"@babel/eslint-parser\":\"7.24.6\",\"@babel/generator\":\"7.27.0\",\"@babel/plugin-syntax-bigint\":\"7.8.3\",\"@babel/plugin-syntax-dynamic-import\":\"7.8.3\",\"@babel/plugin-syntax-import-attributes\":\"7.26.0\",\"@babel/plugin-syntax-jsx\":\"7.25.9\",\"@babel/plugin-syntax-typescript\":\"7.25.4\",\"@babel/plugin-transform-class-properties\":\"7.25.9\",\"@babel/plugin-transform-export-namespace-from\":\"7.25.9\",\"@babel/plugin-transform-modules-commonjs\":\"7.26.3\",\"@babel/plugin-transform-numeric-separator\":\"7.25.9\",\"@babel/plugin-transform-object-rest-spread\":\"7.25.9\",\"@babel/plugin-transform-runtime\":\"7.26.10\",\"@babel/preset-env\":\"7.26.9\",\"@babel/preset-react\":\"7.26.3\",\"@babel/preset-typescript\":\"7.27.0\",\"@babel/runtime\":\"7.27.0\",\"@babel/traverse\":\"7.27.0\",\"@babel/types\":\"7.27.0\",\"@base-ui-components/react\":\"1.0.0-beta.2\",\"@capsizecss/metrics\":\"3.4.0\",\"@edge-runtime/cookies\":\"6.0.0\",\"@edge-runtime/ponyfill\":\"4.0.0\",\"@edge-runtime/primitives\":\"6.0.0\",\"@hapi/accept\":\"5.0.2\",\"@jest/transform\":\"29.5.0\",\"@jest/types\":\"29.5.0\",\"@modelcontextprotocol/sdk\":\"1.18.1\",\"@mswjs/interceptors\":\"0.23.0\",\"@napi-rs/triples\":\"1.2.0\",\"@next/font\":\"16.0.3\",\"@next/polyfill-module\":\"16.0.3\",\"@next/polyfill-nomodule\":\"16.0.3\",\"@next/react-refresh-utils\":\"16.0.3\",\"@next/swc\":\"16.0.3\",\"@opentelemetry/api\":\"1.6.0\",\"@playwright/test\":\"1.51.1\",\"@rspack/core\":\"1.6.0\",\"@storybook/addon-a11y\":\"8.6.0\",\"@storybook/addon-essentials\":\"8.6.0\",\"@storybook/addon-interactions\":\"8.6.0\",\"@storybook/addon-webpack5-compiler-swc\":\"3.0.0\",\"@storybook/blocks\":\"8.6.0\",\"@storybook/react\":\"8.6.0\",\"@storybook/react-webpack5\":\"8.6.0\",\"@storybook/test\":\"8.6.0\",\"@storybook/test-runner\":\"0.21.0\",\"@swc/core\":\"1.11.24\",\"@swc/types\":\"0.1.7\",\"@taskr/clear\":\"1.1.0\",\"@taskr/esnext\":\"1.1.0\",\"@types/babel__code-frame\":\"7.0.6\",\"@types/babel__core\":\"7.20.5\",\"@types/babel__generator\":\"7.27.0\",\"@types/babel__template\":\"7.4.4\",\"@types/babel__traverse\":\"7.20.7\",\"@types/bytes\":\"3.1.1\",\"@types/ci-info\":\"2.0.0\",\"@types/compression\":\"0.0.36\",\"@types/content-disposition\":\"0.5.4\",\"@types/content-type\":\"1.1.3\",\"@types/cookie\":\"0.3.3\",\"@types/cross-spawn\":\"6.0.0\",\"@types/debug\":\"4.1.5\",\"@types/express-serve-static-core\":\"4.17.33\",\"@types/fresh\":\"0.5.0\",\"@types/glob\":\"7.1.1\",\"@types/jsonwebtoken\":\"9.0.0\",\"@types/lodash\":\"4.14.198\",\"@types/lodash.curry\":\"4.1.6\",\"@types/path-to-regexp\":\"1.7.0\",\"@types/picomatch\":\"2.3.3\",\"@types/platform\":\"1.3.4\",\"@types/react\":\"19.0.8\",\"@types/react-dom\":\"19.0.3\",\"@types/react-is\":\"18.2.4\",\"@types/semver\":\"7.3.1\",\"@types/send\":\"0.14.4\",\"@types/shell-quote\":\"1.7.1\",\"@types/tar\":\"6.1.5\",\"@types/text-table\":\"0.2.1\",\"@types/ua-parser-js\":\"0.7.36\",\"@types/webpack-sources1\":\"npm:@types/webpack-sources@0.1.5\",\"@types/ws\":\"8.2.0\",\"@vercel/ncc\":\"0.34.0\",\"@vercel/nft\":\"0.27.1\",\"@vercel/routing-utils\":\"5.2.0\",\"@vercel/turbopack-ecmascript-runtime\":\"*\",\"acorn\":\"8.14.0\",\"anser\":\"1.4.9\",\"arg\":\"4.1.0\",\"assert\":\"2.0.0\",\"async-retry\":\"1.2.3\",\"async-sema\":\"3.0.0\",\"axe-playwright\":\"2.0.3\",\"babel-loader\":\"10.0.0\",\"babel-plugin-react-compiler\":\"0.0.0-experimental-3fde738-20250918\",\"babel-plugin-transform-define\":\"2.0.0\",\"babel-plugin-transform-react-remove-prop-types\":\"0.4.24\",\"browserify-zlib\":\"0.2.0\",\"browserslist\":\"4.26.2\",\"buffer\":\"5.6.0\",\"busboy\":\"1.6.0\",\"bytes\":\"3.1.1\",\"ci-info\":\"watson/ci-info#f43f6a1cefff47fb361c88cf4b943fdbcaafe540\",\"cli-select\":\"1.1.2\",\"client-only\":\"0.0.1\",\"commander\":\"12.1.0\",\"comment-json\":\"3.0.3\",\"compression\":\"1.7.4\",\"conf\":\"5.0.0\",\"constants-browserify\":\"1.0.0\",\"content-disposition\":\"0.5.3\",\"content-type\":\"1.0.4\",\"cookie\":\"0.4.1\",\"cross-env\":\"6.0.3\",\"cross-spawn\":\"7.0.3\",\"crypto-browserify\":\"3.12.0\",\"css-loader\":\"7.1.2\",\"css.escape\":\"1.5.1\",\"cssnano-preset-default\":\"7.0.6\",\"data-uri-to-buffer\":\"3.0.1\",\"debug\":\"4.1.1\",\"devalue\":\"2.0.1\",\"domain-browser\":\"4.19.0\",\"edge-runtime\":\"4.0.1\",\"events\":\"3.3.0\",\"find-up\":\"4.1.0\",\"fresh\":\"0.5.2\",\"glob\":\"7.1.7\",\"gzip-size\":\"5.1.1\",\"http-proxy\":\"1.18.1\",\"http-proxy-agent\":\"5.0.0\",\"https-browserify\":\"1.0.0\",\"https-proxy-agent\":\"5.0.1\",\"icss-utils\":\"5.1.0\",\"ignore-loader\":\"0.1.2\",\"image-size\":\"1.2.1\",\"ipaddr.js\":\"2.2.0\",\"is-docker\":\"2.0.0\",\"is-wsl\":\"2.2.0\",\"jest-worker\":\"27.5.1\",\"json5\":\"2.2.3\",\"jsonwebtoken\":\"9.0.0\",\"loader-runner\":\"4.3.0\",\"loader-utils2\":\"npm:loader-utils@2.0.4\",\"loader-utils3\":\"npm:loader-utils@3.1.3\",\"lodash.curry\":\"4.1.1\",\"mini-css-extract-plugin\":\"2.4.4\",\"msw\":\"2.3.0\",\"nanoid\":\"3.1.32\",\"native-url\":\"0.3.4\",\"neo-async\":\"2.6.1\",\"node-html-parser\":\"5.3.3\",\"ora\":\"4.0.4\",\"os-browserify\":\"0.3.0\",\"p-limit\":\"3.1.0\",\"p-queue\":\"6.6.2\",\"path-browserify\":\"1.0.1\",\"path-to-regexp\":\"6.3.0\",\"picomatch\":\"4.0.1\",\"postcss-flexbugs-fixes\":\"5.0.2\",\"postcss-modules-extract-imports\":\"3.0.0\",\"postcss-modules-local-by-default\":\"4.2.0\",\"postcss-modules-scope\":\"3.0.0\",\"postcss-modules-values\":\"4.0.0\",\"postcss-preset-env\":\"7.4.3\",\"postcss-safe-parser\":\"6.0.0\",\"postcss-scss\":\"4.0.3\",\"postcss-value-parser\":\"4.2.0\",\"process\":\"0.11.10\",\"punycode\":\"2.1.1\",\"querystring-es3\":\"0.2.1\",\"raw-body\":\"2.4.1\",\"react-refresh\":\"0.12.0\",\"recast\":\"0.23.11\",\"regenerator-runtime\":\"0.13.4\",\"safe-stable-stringify\":\"2.5.0\",\"sass-loader\":\"16.0.5\",\"schema-utils2\":\"npm:schema-utils@2.7.1\",\"schema-utils3\":\"npm:schema-utils@3.0.0\",\"semver\":\"7.3.2\",\"send\":\"0.18.0\",\"server-only\":\"0.0.1\",\"setimmediate\":\"1.0.5\",\"shell-quote\":\"1.7.3\",\"source-map\":\"0.6.1\",\"source-map-loader\":\"5.0.0\",\"source-map08\":\"npm:source-map@0.8.0-beta.0\",\"stacktrace-parser\":\"0.1.10\",\"storybook\":\"8.6.0\",\"stream-browserify\":\"3.0.0\",\"stream-http\":\"3.1.1\",\"strict-event-emitter\":\"0.5.0\",\"string-hash\":\"1.1.3\",\"string_decoder\":\"1.3.0\",\"strip-ansi\":\"6.0.0\",\"style-loader\":\"4.0.0\",\"superstruct\":\"1.0.3\",\"tar\":\"6.1.15\",\"taskr\":\"1.1.0\",\"terser\":\"5.27.0\",\"terser-webpack-plugin\":\"5.3.9\",\"text-table\":\"0.2.0\",\"timers-browserify\":\"2.0.12\",\"tty-browserify\":\"0.0.1\",\"typescript\":\"5.9.2\",\"ua-parser-js\":\"1.0.35\",\"unistore\":\"3.4.1\",\"util\":\"0.12.4\",\"vm-browserify\":\"1.1.2\",\"watchpack\":\"2.4.0\",\"web-vitals\":\"4.2.1\",\"webpack\":\"5.98.0\",\"webpack-sources1\":\"npm:webpack-sources@1.4.3\",\"webpack-sources3\":\"npm:webpack-sources@3.2.3\",\"ws\":\"8.2.3\",\"zod\":\"3.25.76\",\"zod-validation-error\":\"3.4.0\"},\"keywords\":[\"react\",\"framework\",\"nextjs\",\"web\",\"server\",\"node\",\"front-end\",\"backend\",\"cli\",\"vercel\"],\"engines\":{\"node\":\">=20.9.0\"}}","import { initializeApp, getApps, cert } from 'firebase-admin/app';\nimport { getFirestore, Timestamp, FieldValue } from 'firebase-admin/firestore';\nimport { getStorage } from 'firebase-admin/storage';\n\n// Only initialize Firebase on the server side\nif (typeof window === 'undefined') {\n  // Initialize Firebase Admin SDK (only once)\n  // During build, Firebase may not be fully configured - this is expected\n  if (!getApps().length) {\n    try {\n      const projectId = process.env.FIREBASE_PROJECT_ID;\n      const clientEmail = process.env.FIREBASE_CLIENT_EMAIL;\n      const privateKey = process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, '\\n');\n\n      // Only initialize if credentials are provided\n      if (projectId && clientEmail && privateKey) {\n        initializeApp({\n          credential: cert({\n            projectId,\n            clientEmail,\n            privateKey,\n          }),\n        });\n        console.log('✅ Firebase Admin initialized successfully');\n      } else {\n        console.warn('⚠️  Firebase credentials not configured - app will not function at runtime');\n      }\n    } catch (error) {\n      console.error('❌ Firebase Admin initialization error:', error);\n      // Don't throw during build - allow build to complete\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('⚠️  Continuing despite Firebase error (build mode)');\n      }\n    }\n  }\n}\n\n// Export Firestore instance with lazy initialization\nlet dbInstance: ReturnType<typeof getFirestore> | null = null;\n\nfunction getDb() {\n  if (typeof window !== 'undefined') {\n    throw new Error('Firebase Admin SDK cannot be used on the client side');\n  }\n\n  if (!dbInstance) {\n    if (!getApps().length) {\n      throw new Error('Firebase is not initialized. Make sure environment variables are configured.');\n    }\n    dbInstance = getFirestore();\n  }\n  return dbInstance;\n}\n\nexport const db = new Proxy({} as ReturnType<typeof getFirestore>, {\n  get(target, prop) {\n    return (getDb() as any)[prop];\n  }\n});\n\n// Alias for backward compatibility\nexport const firestore = db;\n\n// Export Timestamp and FieldValue for convenience\nexport { Timestamp, FieldValue };\n\n// Export Firebase Storage instance (server-side only)\nexport const storage = typeof window === 'undefined' ? getStorage() : null;\n\n// Collection names (for type safety)\nexport const COLLECTIONS = {\n  USERS: 'users',\n  INVOICES: 'invoices',\n  PAYMENT_CONFIRMATIONS: 'payment_confirmations',\n  PAYMENT_CLAIMS: 'payment_claims',\n  COLLECTION_ATTEMPTS: 'collection_attempts',\n  CLIENTS: 'clients',\n  NOTIFICATIONS: 'notifications',\n  TRANSACTIONS: 'transactions',\n  REFERRALS: 'referrals',\n  REFERRAL_CREDITS: 'referral_credits',\n  REFERRAL_PAYOUTS: 'referral_payouts',\n  USER_BEHAVIOR_PROFILE: 'user_behavior_profile',\n  USER_STATS: 'user_stats',\n  USER_EVENTS: 'user_events',\n  DAILY_SUMMARIES: 'daily_summaries',\n  EMAILS_SENT: 'emails_sent',\n  ONBOARDING_PROGRESS: 'onboarding_progress',\n  AGENCY_HANDOFFS: 'agency_handoffs',\n} as const;\n\n// Helper function to convert Firestore Timestamp to Date\nexport function timestampToDate(timestamp: Timestamp | null | undefined): Date | null {\n  if (!timestamp) return null;\n  return timestamp.toDate();\n}\n\n// Helper function to convert Date to Firestore Timestamp\nexport function dateToTimestamp(date: Date | string | null | undefined): Timestamp | null {\n  if (!date) return null;\n  if (typeof date === 'string') {\n    return Timestamp.fromDate(new Date(date));\n  }\n  return Timestamp.fromDate(date);\n}\n\n// Server timestamp helper\nexport function serverTimestamp() {\n  return FieldValue.serverTimestamp();\n}\n","// Simple logger for development - replace with proper logging service in production\nexport const logger = {\n    info: (data: any, message?: string) => {\n        if (message) {\n            console.log(`[INFO] ${message}`, data);\n        } else {\n            console.log('[INFO]', data);\n        }\n    },\n    error: (data: any, message?: string) => {\n        if (message) {\n            console.error(`[ERROR] ${message}`, data);\n        } else {\n            console.error('[ERROR]', data);\n        }\n    },\n    warn: (data: any, message?: string) => {\n        if (message) {\n            console.warn(`[WARN] ${message}`, data);\n        } else {\n            console.warn('[WARN]', data);\n        }\n    },\n};\n\n// Convenience functions for logging\nexport const logInfo = (message: string, data?: any) => {\n    logger.info(data, message);\n};\n\nexport const logError = (message: string, error?: any) => {\n    logger.error(error, message);\n};\n\nexport const logWarn = (message: string, data?: any) => {\n    logger.warn(data, message);\n};\n\nexport const logApiRequest = (method: string, url: string, data?: any) => {\n    logger.info({ method, url, ...data }, 'API Request');\n};\n\nexport const logApiResponse = (method: string, url: string, status: number, data?: any) => {\n    logger.info({ method, url, status, ...data }, 'API Response');\n};\n\nexport const logDbOperation = (operation: string, collection: string, data?: any) => {\n    logger.info({ operation, collection, ...data }, 'Database Operation');\n};","import { logger } from './logger';\nimport { ZodError } from 'zod';\n\nexport class CustomError extends Error {\n    constructor(\n        public code: string,\n        message: string,\n        public statusCode: number = 500\n    ) {\n        super(message);\n        this.name = 'CustomError';\n    }\n}\n\nexport class ValidationError extends CustomError {\n    constructor(message: string) {\n        super('VALIDATION_ERROR', message, 400);\n    }\n}\n\nexport class UnauthorizedError extends CustomError {\n    constructor(message: string = 'Unauthorized') {\n        super('UNAUTHORIZED', message, 401);\n    }\n}\n\nexport class ForbiddenError extends CustomError {\n    constructor(message: string = 'Forbidden') {\n        super('FORBIDDEN', message, 403);\n    }\n}\n\nexport class NotFoundError extends CustomError {\n    constructor(message: string = 'Not found') {\n        super('NOT_FOUND', message, 404);\n    }\n}\n\nexport class BadRequestError extends CustomError {\n    constructor(message: string = 'Bad request') {\n        super('BAD_REQUEST', message, 400);\n    }\n}\n\nexport class RateLimitError extends CustomError {\n    constructor(message: string = 'Rate limit exceeded') {\n        super('RATE_LIMIT', message, 429);\n    }\n}\n\n// Error constants for API responses\nexport const errors = {\n    VALIDATION_ERROR: 'VALIDATION_ERROR',\n    UNAUTHORIZED: 'UNAUTHORIZED',\n    FORBIDDEN: 'FORBIDDEN',\n    NOT_FOUND: 'NOT_FOUND',\n    INTERNAL_ERROR: 'INTERNAL_ERROR',\n};\n\nexport async function handleError(error: unknown) {\n    if (error instanceof ZodError) {\n        const fieldErrors = error.errors.reduce((acc, e) => {\n            const field = e.path.join('.');\n            acc[field] = e.message;\n            return acc;\n        }, {} as Record<string, string>);\n\n        return {\n            status: 400,\n            body: {\n                error: 'VALIDATION_ERROR',\n                message: 'The request body is invalid.',\n                fields: fieldErrors,\n            },\n        };\n    }\n\n    if (error instanceof CustomError) {\n        return {\n            status: error.statusCode,\n            body: {\n                error: error.code,\n                message: error.message,\n            },\n        };\n    }\n\n    // Log the unexpected error for debugging purposes\n    logger.error({ err: error }, 'An unknown error occurred in handleError');\n\n    return {\n        status: 500,\n        body: {\n            error: 'INTERNAL_ERROR',\n            message: 'An unexpected error occurred',\n        },\n    };\n}\n\n// Alias for handleError to match expected API naming\nexport const handleApiError = handleError;","import { db, Timestamp, COLLECTIONS } from '@/lib/firebase';\nimport { Invoice, CollectionAttempt, User, UserStats } from '@/types/models';\nimport { NotFoundError } from '@/utils/error';\nimport { logDbOperation, logInfo, logError } from '@/utils/logger';\n\n/**\n * Analytics Service - Dashboard statistics and insights\n *\n * Provides comprehensive analytics for invoices, collections, and user performance\n */\n\n/**\n * Get invoice statistics for a user\n */\nexport async function getInvoiceStats(userId: string): Promise<{\n  total: number;\n  paid: number;\n  overdue: number;\n  collected: number;\n  avgPaymentDays: number;\n}> {\n  const startTime = Date.now();\n\n  try {\n    // Get all invoices for user\n    const invoicesQuery = await db\n      .collection(COLLECTIONS.INVOICES)\n      .where('freelancerId', '==', userId)\n      .get();\n\n    const invoices = invoicesQuery.docs.map((doc) => doc.data() as Invoice);\n\n    // Calculate statistics\n    const total = invoices.length;\n    const paid = invoices.filter((inv) => inv.status === 'paid').length;\n    const overdue = invoices.filter((inv) => inv.status === 'overdue').length;\n    const collected = invoices.filter((inv) => inv.status === 'paid' && inv.collectionsEnabled).length;\n\n    // Calculate average payment days\n    const paidInvoices = invoices.filter((inv) => inv.status === 'paid' && inv.paidAt);\n    const avgPaymentDays =\n      paidInvoices.length > 0\n        ? paidInvoices.reduce((sum, inv) => {\n          const dueDate = inv.dueDate.toDate();\n          const paidDate = inv.paidAt!.toDate();\n          const days = Math.floor((paidDate.getTime() - dueDate.getTime()) / (1000 * 60 * 60 * 24));\n          return sum + days;\n        }, 0) / paidInvoices.length\n        : 0;\n\n    logDbOperation('get_invoice_stats', COLLECTIONS.INVOICES, userId, Date.now() - startTime);\n\n    return {\n      total,\n      paid,\n      overdue,\n      collected,\n      avgPaymentDays: Math.round(avgPaymentDays * 10) / 10, // Round to 1 decimal\n    };\n  } catch (error) {\n    logError('Failed to get invoice stats', error);\n    throw error;\n  }\n}\n\n/**\n * Get collection statistics for a user\n */\nexport async function getCollectionStats(userId: string): Promise<{\n  attempts: number;\n  successRate: number;\n  revenue: number;\n  outcomes: Record<string, number>;\n}> {\n  const startTime = Date.now();\n\n  try {\n    // Get all collection attempts for user\n    const attemptsQuery = await db\n      .collection(COLLECTIONS.COLLECTION_ATTEMPTS)\n      .where('freelancerId', '==', userId)\n      .get();\n\n    const attempts = attemptsQuery.docs.map((doc) => doc.data() as CollectionAttempt);\n\n    // Calculate outcomes\n    const outcomes: Record<string, number> = {};\n    let successCount = 0;\n    let totalRevenue = 0;\n\n    attempts.forEach((attempt) => {\n      const outcome = attempt.result || 'pending';\n      outcomes[outcome] = (outcomes[outcome] || 0) + 1;\n\n      if (attempt.result === 'success') {\n        successCount++;\n        totalRevenue += attempt.paymentRecovered || 0;\n      }\n    });\n\n    const successRate = attempts.length > 0 ? (successCount / attempts.length) * 100 : 0;\n\n    logDbOperation('get_collection_stats', COLLECTIONS.COLLECTION_ATTEMPTS, userId, Date.now() - startTime);\n\n    return {\n      attempts: attempts.length,\n      successRate: Math.round(successRate * 10) / 10,\n      revenue: totalRevenue,\n      outcomes,\n    };\n  } catch (error) {\n    logError('Failed to get collection stats', error);\n    throw error;\n  }\n}\n\n/**\n * Get revenue by month for the past N months\n */\nexport async function getRevenueByMonth(\n  userId: string,\n  months: number = 12\n): Promise<\n  Array<{\n    month: string;\n    revenue: number;\n    collections: number;\n    growth: number;\n  }>\n> {\n  const startTime = Date.now();\n\n  try {\n    // Calculate date range\n    const now = new Date();\n    const startDate = new Date(now.getFullYear(), now.getMonth() - months, 1);\n\n    // Get all paid invoices in date range\n    const invoicesQuery = await db\n      .collection(COLLECTIONS.INVOICES)\n      .where('freelancerId', '==', userId)\n      .where('status', '==', 'paid')\n      .get();\n\n    const invoices = invoicesQuery.docs\n      .map((doc) => doc.data() as Invoice)\n      .filter((inv) => inv.paidAt && inv.paidAt.toDate() >= startDate);\n\n    // Group by month\n    const monthlyData: Record<string, { revenue: number; collections: number }> = {};\n\n    invoices.forEach((inv) => {\n      const paidDate = inv.paidAt!.toDate();\n      const monthKey = `${paidDate.getFullYear()}-${String(paidDate.getMonth() + 1).padStart(2, '0')}`;\n\n      if (!monthlyData[monthKey]) {\n        monthlyData[monthKey] = { revenue: 0, collections: 0 };\n      }\n\n      monthlyData[monthKey].revenue += inv.amount;\n      if (inv.collectionsEnabled) {\n        monthlyData[monthKey].collections++;\n      }\n    });\n\n    // Convert to array with growth calculation\n    const result: Array<{ month: string; revenue: number; collections: number; growth: number }> = [];\n    let previousRevenue = 0;\n\n    for (let i = 0; i < months; i++) {\n      const date = new Date(now.getFullYear(), now.getMonth() - (months - i - 1), 1);\n      const monthKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;\n\n      const data = monthlyData[monthKey] || { revenue: 0, collections: 0 };\n      const growth = previousRevenue > 0 ? ((data.revenue - previousRevenue) / previousRevenue) * 100 : 0;\n\n      result.push({\n        month: monthKey,\n        revenue: data.revenue,\n        collections: data.collections,\n        growth: Math.round(growth * 10) / 10,\n      });\n\n      previousRevenue = data.revenue;\n    }\n\n    logDbOperation('get_revenue_by_month', COLLECTIONS.INVOICES, userId, Date.now() - startTime);\n\n    return result;\n  } catch (error) {\n    logError('Failed to get revenue by month', error);\n    throw error;\n  }\n}\n\n/**\n * Get client breakdown statistics\n */\nexport async function getClientBreakdown(userId: string): Promise<\n  Array<{\n    clientName: string;\n    totalInvoiced: number;\n    totalPaid: number;\n    avgPaymentDays: number;\n    status: 'good' | 'slow' | 'overdue';\n  }>\n> {\n  const startTime = Date.now();\n\n  try {\n    // Get all invoices for user\n    const invoicesQuery = await db\n      .collection(COLLECTIONS.INVOICES)\n      .where('freelancerId', '==', userId)\n      .get();\n\n    const invoices = invoicesQuery.docs.map((doc) => doc.data() as Invoice);\n\n    // Group by client\n    const clientData: Record<\n      string,\n      {\n        clientName: string;\n        invoices: Invoice[];\n      }\n    > = {};\n\n    invoices.forEach((inv) => {\n      if (!clientData[inv.clientEmail]) {\n        clientData[inv.clientEmail] = {\n          clientName: inv.clientName,\n          invoices: [],\n        };\n      }\n      clientData[inv.clientEmail].invoices.push(inv);\n    });\n\n    // Calculate stats for each client\n    const breakdown = Object.values(clientData).map((client) => {\n      const totalInvoiced = client.invoices.reduce((sum, inv) => sum + inv.amount, 0);\n      const paidInvoices = client.invoices.filter((inv) => inv.status === 'paid');\n      const totalPaid = paidInvoices.reduce((sum, inv) => sum + inv.amount, 0);\n\n      // Calculate average payment days\n      const avgPaymentDays =\n        paidInvoices.length > 0\n          ? paidInvoices.reduce((sum, inv) => {\n            if (!inv.paidAt) return sum;\n            const dueDate = inv.dueDate.toDate();\n            const paidDate = inv.paidAt.toDate();\n            const days = Math.floor((paidDate.getTime() - dueDate.getTime()) / (1000 * 60 * 60 * 24));\n            return sum + days;\n          }, 0) / paidInvoices.length\n          : 0;\n\n      // Determine status\n      const hasOverdue = client.invoices.some((inv) => inv.status === 'overdue');\n      const status: 'good' | 'slow' | 'overdue' = hasOverdue\n        ? 'overdue'\n        : avgPaymentDays > 7\n          ? 'slow'\n          : 'good';\n\n      return {\n        clientName: client.clientName,\n        totalInvoiced,\n        totalPaid,\n        avgPaymentDays: Math.round(avgPaymentDays * 10) / 10,\n        status,\n      };\n    });\n\n    // Sort by total invoiced (highest first)\n    breakdown.sort((a, b) => b.totalInvoiced - a.totalInvoiced);\n\n    logDbOperation('get_client_breakdown', COLLECTIONS.INVOICES, userId, Date.now() - startTime);\n\n    return breakdown;\n  } catch (error) {\n    logError('Failed to get client breakdown', error);\n    throw error;\n  }\n}\n\n/**\n * Get top clients by revenue\n */\nexport async function getTopClients(userId: string, limit: number = 5): Promise<Array<any>> {\n  const breakdown = await getClientBreakdown(userId);\n  return breakdown.slice(0, limit);\n}\n\n/**\n * Get at-risk invoices (overdue with no collections enabled)\n */\nexport async function getAtRiskInvoices(userId: string): Promise<Array<Invoice>> {\n  const startTime = Date.now();\n\n  try {\n    const invoicesQuery = await db\n      .collection(COLLECTIONS.INVOICES)\n      .where('freelancerId', '==', userId)\n      .where('status', '==', 'overdue')\n      .where('collectionsEnabled', '==', false)\n      .get();\n\n    const invoices = invoicesQuery.docs.map((doc) => doc.data() as Invoice);\n\n    logDbOperation('get_at_risk_invoices', COLLECTIONS.INVOICES, userId, Date.now() - startTime);\n\n    return invoices;\n  } catch (error) {\n    logError('Failed to get at-risk invoices', error);\n    throw error;\n  }\n}\n\n/**\n * Predict revenue for next N months based on historical data\n */\nexport async function getPredictedRevenue(userId: string, months: number = 3): Promise<number> {\n  const historicalData = await getRevenueByMonth(userId, 6);\n\n  if (historicalData.length < 3) {\n    return 0; // Not enough data for prediction\n  }\n\n  // Simple average of last 3 months\n  const recentRevenue = historicalData.slice(-3);\n  const avgRevenue = recentRevenue.reduce((sum, data) => sum + data.revenue, 0) / 3;\n\n  return Math.round(avgRevenue * months);\n}\n\n/**\n * Get user rank by XP, recovery, or referrals\n */\nexport async function getUserRank(userId: string): Promise<{\n  rank: number;\n  totalUsers: number;\n  percentile: number;\n}> {\n  const startTime = Date.now();\n\n  try {\n    // Get user stats\n    const userStatsDoc = await db.collection(COLLECTIONS.USER_STATS).doc(userId).get();\n\n    if (!userStatsDoc.exists) {\n      return { rank: 0, totalUsers: 0, percentile: 0 };\n    }\n\n    const userStats = userStatsDoc.data() as UserStats;\n    const userXP = userStats.gamificationXP || 0;\n\n    // Get all users with XP\n    const allUsersQuery = await db\n      .collection(COLLECTIONS.USER_STATS)\n      .where('gamificationXP', '>', 0)\n      .orderBy('gamificationXP', 'desc')\n      .get();\n\n    const totalUsers = allUsersQuery.size;\n    let rank = 1;\n\n    for (const doc of allUsersQuery.docs) {\n      const stats = doc.data() as UserStats;\n      if (stats.gamificationXP > userXP) {\n        rank++;\n      } else {\n        break;\n      }\n    }\n\n    const percentile = totalUsers > 0 ? ((totalUsers - rank + 1) / totalUsers) * 100 : 0;\n\n    logDbOperation('get_user_rank', COLLECTIONS.USER_STATS, userId, Date.now() - startTime);\n\n    return {\n      rank,\n      totalUsers,\n      percentile: Math.round(percentile),\n    };\n  } catch (error) {\n    logError('Failed to get user rank', error);\n    throw error;\n  }\n}\n\n/**\n * Get top users by metric\n */\nexport async function getTopUsers(\n  limit: number = 10,\n  sortBy: 'xp' | 'recovery' | 'referrals' = 'xp'\n): Promise<Array<any>> {\n  const startTime = Date.now();\n\n  try {\n    let query: any = db.collection(COLLECTIONS.USER_STATS);\n\n    // Sort by metric\n    if (sortBy === 'xp') {\n      query = query.orderBy('gamificationXP', 'desc');\n    } else if (sortBy === 'recovery') {\n      query = query.orderBy('totalCollected', 'desc');\n    } else if (sortBy === 'referrals') {\n      query = query.orderBy('totalReferrals', 'desc'); // Assuming 'totalReferrals' exists in UserStats\n    }\n\n    const usersQuery = await query.limit(limit).get();\n\n    const topUsers = await Promise.all(\n      usersQuery.docs.map(async (doc: any, index: number) => {\n        const stats = doc.data() as UserStats;\n\n        // Get user name\n        const userDoc = await db.collection(COLLECTIONS.USERS).doc(stats.userId).get();\n        const user = userDoc.exists ? (userDoc.data() as User) : null;\n\n        return {\n          rank: index + 1,\n          userId: stats.userId,\n          name: user?.name || 'Anonymous',\n          metric:\n            sortBy === 'xp'\n              ? stats.gamificationXP\n              : sortBy === 'recovery'\n                ? stats.totalCollected\n                : 0,\n          value:\n            sortBy === 'xp'\n              ? `${stats.gamificationXP} XP`\n              : sortBy === 'recovery'\n                ? `£${stats.totalCollected}`\n                : '',\n        };\n      })\n    );\n\n    logDbOperation('get_top_users', COLLECTIONS.USER_STATS, undefined, Date.now() - startTime);\n\n    return topUsers;\n  } catch (error) {\n    logError('Failed to get top users', error);\n    throw error;\n  }\n}\n\n/**\n * Generate AI-like insights for user\n */\nexport async function generateInsights(userId: string): Promise<Array<string>> {\n  const insights: string[] = [];\n\n  try {\n    // Get invoice stats\n    const invoiceStats = await getInvoiceStats(userId);\n\n    // Insight 1: Overdue invoices\n    if (invoiceStats.overdue > 0) {\n      insights.push(\n        `You have ${invoiceStats.overdue} overdue invoice${invoiceStats.overdue > 1 ? 's' : ''}. Consider enabling collections to recover payment faster.`\n      );\n    }\n\n    // Insight 2: Average payment days\n    if (invoiceStats.avgPaymentDays > 14) {\n      insights.push(\n        `Your clients take an average of ${invoiceStats.avgPaymentDays} days to pay. Industry average is 7-14 days. Consider sending earlier reminders.`\n      );\n    }\n\n    // Insight 3: Collection success\n    if (invoiceStats.collected > 0) {\n      insights.push(\n        `Great work! You've successfully collected ${invoiceStats.collected} invoice${invoiceStats.collected > 1 ? 's' : ''} using Recoup's automated collections.`\n      );\n    }\n\n    // Insight 4: At-risk invoices\n    const atRisk = await getAtRiskInvoices(userId);\n    if (atRisk.length > 0) {\n      insights.push(\n        `${atRisk.length} overdue invoice${atRisk.length > 1 ? 's are' : ' is'} at risk. Enable collections to prevent further delays.`\n      );\n    }\n\n    // Insight 5: Performance ranking\n    const rank = await getUserRank(userId);\n    if (rank.percentile > 75) {\n      insights.push(\n        `You're in the top ${100 - rank.percentile}% of Recoup users! Keep up the great work.`\n      );\n    }\n\n    return insights;\n  } catch (error) {\n    logError('Failed to generate insights', error);\n    return [];\n  }\n}\n\n/**\n * Get collection effectiveness index (0-100)\n */\nexport async function getCollectionEffectivenessIndex(userId: string): Promise<number> {\n  try {\n    const collectionStats = await getCollectionStats(userId);\n    const invoiceStats = await getInvoiceStats(userId);\n\n    // Calculate effectiveness based on success rate and collection usage\n    const successRate = collectionStats.successRate;\n    const collectionUsage = invoiceStats.total > 0 ? (invoiceStats.collected / invoiceStats.total) * 100 : 0;\n\n    // Weighted average: 70% success rate, 30% usage\n    const effectiveness = (successRate * 0.7) + (collectionUsage * 0.3);\n\n    return Math.round(Math.min(100, Math.max(0, effectiveness)));\n  } catch (error) {\n    logError('Failed to get collection effectiveness index', error);\n    return 0;\n  }\n}\n\n/**\n * Alias for getCollectionStats to match expected naming\n */\nexport const getCollectionsStats = getCollectionStats;\n\n/**\n * Get recent activity for dashboard\n */\nexport async function getRecentActivity(userId: string, limit: number = 10): Promise<Array<any>> {\n  const startTime = Date.now();\n\n  try {\n    // Get recent invoices\n    const invoicesQuery = await db\n      .collection(COLLECTIONS.INVOICES)\n      .where('freelancerId', '==', userId)\n      .orderBy('createdAt', 'desc')\n      .limit(limit)\n      .get();\n\n    const recentInvoices = invoicesQuery.docs.map((doc) => ({\n      id: doc.id,\n      type: 'invoice_created',\n      description: `Invoice created for ${doc.data().clientName}`,\n      amount: doc.data().amount,\n      date: doc.data().createdAt,\n      status: doc.data().status,\n    }));\n\n    // Get recent collection attempts\n    const collectionsQuery = await db\n      .collection(COLLECTIONS.COLLECTION_ATTEMPTS)\n      .where('freelancerId', '==', userId)\n      .orderBy('createdAt', 'desc')\n      .limit(limit)\n      .get();\n\n    const recentCollections = collectionsQuery.docs.map((doc) => ({\n      id: doc.id,\n      type: 'collection_attempt',\n      description: `Collection attempt for invoice`,\n      amount: doc.data().paymentRecovered || 0,\n      date: doc.data().createdAt,\n      status: doc.data().result,\n    }));\n\n    // Combine and sort by date\n    const allActivity = [...recentInvoices, ...recentCollections]\n      .sort((a, b) => b.date.toDate().getTime() - a.date.toDate().getTime())\n      .slice(0, limit);\n\n    logDbOperation('get_recent_activity', COLLECTIONS.INVOICES, userId, Date.now() - startTime);\n\n    return allActivity;\n  } catch (error) {\n    logError('Failed to get recent activity', error);\n    return [];\n  }\n}\n\n/**\n * Get reminder effectiveness rates\n */\nexport async function getReminderEffectivenessRates(userId: string): Promise<{\n  day5: number;\n  day15: number;\n  day30: number;\n  overall: number;\n}> {\n  const startTime = Date.now();\n\n  try {\n    // Get all collection attempts with reminder data\n    const attemptsQuery = await db\n      .collection(COLLECTIONS.COLLECTION_ATTEMPTS)\n      .where('freelancerId', '==', userId)\n      .get();\n\n    const attempts = attemptsQuery.docs.map((doc) => doc.data() as CollectionAttempt);\n\n    // Group by reminder level\n    const reminderStats: Record<string, { total: number; success: number }> = {\n      '5': { total: 0, success: 0 },\n      '15': { total: 0, success: 0 },\n      '30': { total: 0, success: 0 },\n    };\n\n    attempts.forEach((attempt) => {\n      const level = attempt.reminderLevel?.toString();\n      if (level && reminderStats[level]) {\n        reminderStats[level].total++;\n        if (attempt.result === 'success') {\n          reminderStats[level].success++;\n        }\n      }\n    });\n\n    // Calculate rates\n    const day5 = reminderStats['5'].total > 0 ? (reminderStats['5'].success / reminderStats['5'].total) * 100 : 0;\n    const day15 = reminderStats['15'].total > 0 ? (reminderStats['15'].success / reminderStats['15'].total) * 100 : 0;\n    const day30 = reminderStats['30'].total > 0 ? (reminderStats['30'].success / reminderStats['30'].total) * 100 : 0;\n\n    const totalAttempts = attempts.length;\n    const totalSuccess = attempts.filter(a => a.result === 'success').length;\n    const overall = totalAttempts > 0 ? (totalSuccess / totalAttempts) * 100 : 0;\n\n    logDbOperation('get_reminder_effectiveness', COLLECTIONS.COLLECTION_ATTEMPTS, userId, Date.now() - startTime);\n\n    return {\n      day5: Math.round(day5 * 10) / 10,\n      day15: Math.round(day15 * 10) / 10,\n      day30: Math.round(day30 * 10) / 10,\n      overall: Math.round(overall * 10) / 10,\n    };\n  } catch (error) {\n    logError('Failed to get reminder effectiveness rates', error);\n    return { day5: 0, day15: 0, day30: 0, overall: 0 };\n  }\n}\n\n","/**\n * Rate Limiting Utilities\n * Provides rate limiting functionality for API endpoints\n */\n\nimport { NextRequest } from 'next/server';\n\n// Simple in-memory rate limiter (for production, use Redis or similar)\nconst rateLimitStore = new Map<string, { count: number; resetTime: number }>();\n\nexport interface RateLimitOptions {\n    windowMs: number; // Time window in milliseconds\n    maxRequests: number; // Maximum requests per window\n    keyGenerator?: (req: NextRequest) => string; // Function to generate rate limit key\n}\n\nexport interface RateLimitResult {\n    allowed: boolean;\n    remaining: number;\n    resetTime: number;\n    totalRequests: number;\n}\n\n/**\n * Default key generator - uses IP address\n */\nfunction defaultKeyGenerator(req: NextRequest): string {\n    const forwarded = req.headers.get('x-forwarded-for');\n    const ip = forwarded ? forwarded.split(',')[0] : req.ip || 'unknown';\n    return ip;\n}\n\n/**\n * Check if request is within rate limits\n */\nexport function checkRateLimit(\n    req: NextRequest,\n    options: RateLimitOptions\n): RateLimitResult {\n    const keyGenerator = options.keyGenerator || defaultKeyGenerator;\n    const key = keyGenerator(req);\n\n    const now = Date.now();\n    const windowMs = options.windowMs;\n    const maxRequests = options.maxRequests;\n\n    let record = rateLimitStore.get(key);\n\n    if (!record || now > record.resetTime) {\n        // First request or window expired\n        record = {\n            count: 1,\n            resetTime: now + windowMs,\n        };\n        rateLimitStore.set(key, record);\n        return {\n            allowed: true,\n            remaining: maxRequests - 1,\n            resetTime: record.resetTime,\n            totalRequests: 1,\n        };\n    }\n\n    if (record.count >= maxRequests) {\n        // Rate limit exceeded\n        return {\n            allowed: false,\n            remaining: 0,\n            resetTime: record.resetTime,\n            totalRequests: record.count,\n        };\n    }\n\n    // Increment counter\n    record.count++;\n    rateLimitStore.set(key, record);\n\n    return {\n        allowed: true,\n        remaining: maxRequests - record.count,\n        resetTime: record.resetTime,\n        totalRequests: record.count,\n    };\n}\n\n/**\n * Rate limiter middleware function\n */\nexport function ratelimit(options: RateLimitOptions) {\n    return (req: NextRequest) => {\n        return checkRateLimit(req, options);\n    };\n}\n\n/**\n * Check rate limit for a user (not tied to HTTP request)\n */\nexport function checkUserRateLimit(\n    userId: string,\n    options: RateLimitOptions\n): RateLimitResult {\n    const key = `user:${userId}`;\n\n    const now = Date.now();\n    const windowMs = options.windowMs;\n    const maxRequests = options.maxRequests;\n\n    let record = rateLimitStore.get(key);\n\n    if (!record || now > record.resetTime) {\n        // First request or window expired\n        record = {\n            count: 1,\n            resetTime: now + windowMs,\n        };\n        rateLimitStore.set(key, record);\n        return {\n            allowed: true,\n            remaining: maxRequests - 1,\n            resetTime: record.resetTime,\n            totalRequests: 1,\n        };\n    }\n\n    if (record.count >= maxRequests) {\n        // Rate limit exceeded\n        return {\n            allowed: false,\n            remaining: 0,\n            resetTime: record.resetTime,\n            totalRequests: record.count,\n        };\n    }\n\n    // Increment counter\n    record.count++;\n    rateLimitStore.set(key, record);\n\n    return {\n        allowed: true,\n        remaining: maxRequests - record.count,\n        resetTime: record.resetTime,\n        totalRequests: record.count,\n    };\n}"],"names":[],"mappings":"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"}