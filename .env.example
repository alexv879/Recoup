# ============================================================================
# RECOUP - ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local to git!
# ============================================================================

# ----------------------------------------------------------------------------
# CLERK (Authentication & Subscription Billing)
# ----------------------------------------------------------------------------
# Get these from: https://dashboard.clerk.com
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Clerk URLs (usually don't need to change these)
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/dashboard

# Your Clerk domain (for subscription checkout)
# Get from Clerk Dashboard → Settings → Domains
NEXT_PUBLIC_CLERK_DOMAIN=your-app.clerk.accounts.dev

# ----------------------------------------------------------------------------
# FIREBASE (Database & Storage)
# ----------------------------------------------------------------------------
# Get these from: Firebase Console → Project Settings → Service Accounts
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:xxxxxxxxxxxxxxxx

# Firebase Admin (for server-side)
FIREBASE_ADMIN_PROJECT_ID=your-project-id
FIREBASE_ADMIN_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
FIREBASE_ADMIN_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nXXXXX\n-----END PRIVATE KEY-----\n"

# ----------------------------------------------------------------------------
# STRIPE (Client Payment Links ONLY - NOT subscriptions)
# ----------------------------------------------------------------------------
# Get these from: https://dashboard.stripe.com/apikeys
# NOTE: Stripe is ONLY for client invoice payments (direct to freelancer)
# Subscriptions are handled by Clerk!
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ----------------------------------------------------------------------------
# OPENAI (Receipt OCR Processing)
# ----------------------------------------------------------------------------
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ----------------------------------------------------------------------------
# ENCRYPTION (for HMRC OAuth tokens)
# ----------------------------------------------------------------------------
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# MUST be 64 characters (32 bytes in hex)
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ----------------------------------------------------------------------------
# HMRC MTD (Making Tax Digital - OPTIONAL)
# ----------------------------------------------------------------------------
# Only needed if enabling MTD features
# Register at: https://developer.service.hmrc.gov.uk
# HMRC_CLIENT_ID=your-hmrc-client-id
# HMRC_CLIENT_SECRET=your-hmrc-client-secret
# HMRC_REDIRECT_URI=https://your-domain.com/api/mtd/callback
# HMRC_ENVIRONMENT=sandbox  # or 'production' when approved

# ----------------------------------------------------------------------------
# APP CONFIGURATION
# ----------------------------------------------------------------------------
# Your app's URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment
NODE_ENV=development

# ----------------------------------------------------------------------------
# OPTIONAL: MONITORING & ANALYTICS
# ----------------------------------------------------------------------------
# Sentry (error tracking)
# NEXT_PUBLIC_SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx

# PostHog (product analytics)
# NEXT_PUBLIC_POSTHOG_KEY=phc_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ----------------------------------------------------------------------------
# OPTIONAL: EMAIL & SMS
# ----------------------------------------------------------------------------
# Twilio (for SMS collections)
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# TWILIO_PHONE_NUMBER=+447xxxxxxxxx

# SendGrid (for email collections)
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# SENDGRID_FROM_EMAIL=noreply@recoup.app

# ============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ============================================================================
# Before deploying to production:
#
# 1. Replace ALL test/sandbox keys with production keys
# 2. Update NEXT_PUBLIC_APP_URL to your production domain
# 3. Set NODE_ENV=production
# 4. Generate new ENCRYPTION_KEY (never reuse dev key!)
# 5. Configure Clerk webhook URL to production domain
# 6. Configure Stripe webhook URL to production domain
# 7. Deploy Firestore security rules
# 8. Deploy Firebase Storage rules
# 9. Enable environment variable in Vercel/hosting platform
# 10. Test end-to-end signup and subscription flow
#
# See IMPLEMENTATION_SUMMARY.md for detailed deployment guide
# ============================================================================
