# Recoup Environment Variables
# Copy this file to .env.local and fill in your actual values

# ============================================
# REQUIRED FOR CORE FUNCTIONALITY
# ============================================

# Application
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Authentication (Clerk)
# Get these from: https://dashboard.clerk.com
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/onboarding

# Firebase/Firestore Database
# Get these from: https://console.firebase.google.com → Project Settings
FIREBASE_PROJECT_ID=recoup-dev
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@recoup-dev.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----\n"

# Firebase Client (for frontend)
NEXT_PUBLIC_FIREBASE_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=recoup-dev.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=recoup-dev
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=recoup-dev.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:xxxxxxxxxxxxxxxx

# Stripe Payments
# Get these from: https://dashboard.stripe.com/test/apikeys
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Stripe Price IDs (run: npm run setup-stripe to generate these)
STRIPE_PRICE_STARTER_MONTHLY=price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_STARTER_YEARLY=price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_PROFESSIONAL_MONTHLY=price_xxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_PROFESSIONAL_YEARLY=price_xxxxxxxxxxxxxxxxxxxxx

# ============================================
# REQUIRED FOR PAYMENT REMINDERS
# ============================================

# Twilio (SMS/Voice)
# Get these from: https://console.twilio.com
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+441234567890
TWILIO_VERIFY_SERVICE_SID=VAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Email Service (Choose ONE: Resend OR SendGrid)
# Resend (Recommended for UK): https://resend.com
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
RESEND_FROM_EMAIL=noreply@recoup.app

# SendGrid (Alternative): https://sendgrid.com
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_FROM_EMAIL=noreply@recoup.app
SENDGRID_FROM_NAME=Recoup

# SendGrid Template IDs (if using SendGrid)
SENDGRID_INVOICE_TEMPLATE_ID=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_REMINDER_DAY7_TEMPLATE_ID=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_REMINDER_DAY21_TEMPLATE_ID=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_PAYMENT_CONFIRMED_TEMPLATE_ID=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_PAYMENT_VERIFICATION_TEMPLATE_ID=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_PAYMENT_VERIFIED_TEMPLATE_ID=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_PAYMENT_REJECTED_TEMPLATE_ID=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
SENDGRID_NOTIFICATION_TEMPLATE_ID=d-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# AI FEATURES (OPTIONAL BUT RECOMMENDED)
# ============================================

# Google Gemini (80% of AI requests - most cost effective)
# Get from: https://ai.google.dev
GEMINI_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Anthropic Claude (15% of AI requests - complex tasks)
# Get from: https://console.anthropic.com
ANTHROPIC_API_KEY=sk-ant-api03-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# OpenAI (5% of AI requests + voice features)
# Get from: https://platform.openai.com
OPENAI_API_KEY=sk-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Deepgram (Voice transcription - optional)
# Get from: https://console.deepgram.com
NEXT_PUBLIC_DEEPGRAM_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# MONITORING & ANALYTICS (OPTIONAL)
# ============================================

# Sentry Error Tracking
# Get from: https://sentry.io
NEXT_PUBLIC_SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@xxxxxxxx.ingest.sentry.io/xxxxxxxx
SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx@xxxxxxxx.ingest.sentry.io/xxxxxxxx
SENTRY_AUTH_TOKEN=sntrys_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Mixpanel Analytics
# Get from: https://mixpanel.com
MIXPANEL_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
NEXT_PUBLIC_MIXPANEL_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Enable Analytics (set to 'true' in production)
ENABLE_ANALYTICS=false
NEXT_PUBLIC_ENABLE_TRACING=false

# ============================================
# ADVANCED FEATURES (OPTIONAL)
# ============================================

# Multi-Currency Support
# Get from: https://exchangerate-api.com or https://currencyapi.com
EXCHANGE_RATE_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Python Microservices (if using advanced voice/analytics features)
PYTHON_VOICE_SERVICE_URL=http://localhost:8001
PYTHON_ANALYTICS_SERVICE_URL=http://localhost:8002
PYTHON_AI_VOICE_AGENT_URL=http://localhost:8003
PYTHON_DECISION_ENGINE_URL=http://localhost:8004

# Lob (Physical mail for debt collection - UK not supported yet)
# LOB_API_KEY=test_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# SECURITY & COMPLIANCE (PRODUCTION ONLY)
# ============================================

# Cron Job Security (for automated tasks)
CRON_SECRET=your_secure_random_string_here_min_32_chars

# Webhook Secrets
RECOUP_WEBHOOK_SECRET=your_secure_random_string_here
VOICE_SERVER_WEBHOOK_SECRET=your_secure_random_string_here

# FCA Compliance (UK Debt Collection)
FCA_FIRM_REFERENCE=123456
COMPANY_NAME=Recoup Collections Ltd
COMPANY_ADDRESS=123 Business Street, London, EC1A 1BB, United Kingdom
NEXT_PUBLIC_BUSINESS_ADDRESS=123 Business Street, London, EC1A 1BB, United Kingdom

# ============================================
# PRODUCTION DEPLOYMENT (VERCEL)
# ============================================

# App Version (auto-populated by CI/CD)
APP_VERSION=1.0.0
NEXT_PUBLIC_APP_VERSION=1.0.0

# Production URLs (update when deploying)
# NEXT_PUBLIC_APP_URL=https://app.recoup.io
# RECOUP_API_URL=https://app.recoup.io

# ============================================
# DEVELOPMENT ONLY
# ============================================

# Run pricing migration (set to 'true' to migrate Stripe prices)
RUN_PRICING_MIGRATION=false

# ============================================
# NOTES
# ============================================

# REQUIRED for launch:
# - All items under "REQUIRED FOR CORE FUNCTIONALITY"
# - At least ONE email service (Resend OR SendGrid)
# - Twilio (for payment reminders)
# - At least ONE AI provider (Gemini recommended for cost)

# OPTIONAL but recommended:
# - Sentry (error tracking)
# - Mixpanel (analytics)
# - All 3 AI providers (for routing strategy)

# PRODUCTION vs DEVELOPMENT:
# - Use test_ API keys for development
# - Use live_ API keys for production
# - Always use separate Firebase projects for dev/prod
# - Keep .env.local in .gitignore (NEVER commit secrets)

# COST OPTIMIZATION:
# - Gemini: ~£0.0001 per request (80% of load = £45/mo for 100k requests)
# - Claude: ~£0.003 per request (15% of load)
# - OpenAI: ~£0.01 per request (5% of load + voice)
# - Total AI cost: ~£70/mo for 100k requests vs £200/mo with OpenAI-only

# SECURITY:
# - Rotate all secrets every 90 days
# - Use different secrets for dev/staging/production
# - Enable 2FA on all service accounts
# - Monitor Sentry for unauthorized access attempts
# - Keep webhook secrets secure (used to verify authenticity)

# GETTING HELP:
# - Documentation: /docs folder in this repo
# - Setup guides: SETUP.md, CLERK_SETUP_GUIDE.md
# - Support: support@recoup.app
